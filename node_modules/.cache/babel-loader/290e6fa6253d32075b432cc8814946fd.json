{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./histories.css';import{db}from'../../../services/firebase';var TransferHistory=function TransferHistory(props){var user=props.user;//states\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),history=_useState2[0],setHistory=_useState2[1];//Functions\nvar getHistory=function getHistory(){var history1=[];db.collection('Deposits').where('user','==',user.email).get().then(function(qSnap){qSnap.forEach(function(doc){var data=doc.data();history1.push(data);});setHistory(history1);});};useEffect(function(){getHistory();},[user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"TransferHistory\",children:[history.length>0&&history.map(function(h){var dateStr;var newDate;if(typeof h.date!=='string'){dateStr=String(h.date);newDate=\"\".concat(dateStr.substring(4,6),\"/\").concat(dateStr.substring(6,8),\"/\").concat(dateStr.substring(0,4));}return/*#__PURE__*/_jsxs(\"div\",{className:\"h-transfer-div\",children:[/*#__PURE__*/_jsx(\"hr\",{className:\"h-transfer-hr\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"h-transfer-div-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-transfer-div-type\",children:h.type==='withdrawl'?'Withdrawl':'Deposit'}),/*#__PURE__*/_jsx(\"div\",{className:\"h-transfer-div-date\",children:typeof h.date==='string'?h.date:newDate})]}),/*#__PURE__*/_jsxs(\"div\",{className:h.type==='withdrawl'?\"h-transfer-div-right red\":\"h-transfer-div-right green\",children:[h.type==='withdrawl'?'-':'+',\"$\",h.amount]})]});}),/*#__PURE__*/_jsx(\"hr\",{className:\"h-transfer-hr\"})]});};export default TransferHistory;","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/Portfolio/Histories/TransferHistory.js"],"names":["React","useState","useEffect","db","TransferHistory","props","user","history","setHistory","getHistory","history1","collection","where","email","get","then","qSnap","forEach","doc","data","push","length","map","h","dateStr","newDate","date","String","substring","type","amount"],"mappings":"kPAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAO,iBAAP,CACA,OAAQC,EAAR,KAAiB,4BAAjB,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC/B,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACC,IAAnB,CAEA;AAH+B,cAIDL,QAAQ,CAAC,EAAD,CAJP,wCAIxBM,OAJwB,eAIfC,UAJe,eAM/B;AACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAMC,CAAAA,QAAQ,CAAG,EAAjB,CACAP,EAAE,CAACQ,UAAH,CAAc,UAAd,EAA0BC,KAA1B,CAAgC,MAAhC,CAAwC,IAAxC,CAA8CN,IAAI,CAACO,KAAnD,EAA0DC,GAA1D,GAAgEC,IAAhE,CAAqE,SAAAC,KAAK,CAAI,CAC1EA,KAAK,CAACC,OAAN,CAAc,SAAAC,GAAG,CAAI,CACjB,GAAMC,CAAAA,IAAI,CAAGD,GAAG,CAACC,IAAJ,EAAb,CACAT,QAAQ,CAACU,IAAT,CAAcD,IAAd,EACH,CAHD,EAIAX,UAAU,CAACE,QAAD,CAAV,CACH,CAND,EAOH,CATD,CAUAR,SAAS,CAAC,UAAK,CACXO,UAAU,GACb,CAFQ,CAEN,CAACH,IAAD,CAFM,CAAT,CAIA,mBACI,aAAK,SAAS,CAAC,iBAAf,WACKC,OAAO,CAACc,MAAR,CAAiB,CAAjB,EAAsBd,OAAO,CAACe,GAAR,CAAY,SAAAC,CAAC,CAAI,CACpC,GAAIC,CAAAA,OAAJ,CACA,GAAIC,CAAAA,OAAJ,CACA,GAAG,MAAOF,CAAAA,CAAC,CAACG,IAAT,GAAkB,QAArB,CAA8B,CAC1BF,OAAO,CAAGG,MAAM,CAACJ,CAAC,CAACG,IAAH,CAAhB,CACAD,OAAO,WAAMD,OAAO,CAACI,SAAR,CAAkB,CAAlB,CAAoB,CAApB,CAAN,aAAgCJ,OAAO,CAACI,SAAR,CAAkB,CAAlB,CAAoB,CAApB,CAAhC,aAA0DJ,OAAO,CAACI,SAAR,CAAkB,CAAlB,CAAoB,CAApB,CAA1D,CAAP,CACH,CACD,mBACK,aAAK,SAAS,CAAC,gBAAf,wBACG,WAAI,SAAS,CAAC,eAAd,EADH,cAEG,aAAK,SAAS,CAAC,qBAAf,wBACI,YAAK,SAAS,CAAC,qBAAf,UACCL,CAAC,CAACM,IAAF,GAAW,WAAX,CAAyB,WAAzB,CAAuC,SADxC,EADJ,cAII,YAAK,SAAS,CAAC,qBAAf,UACK,MAAON,CAAAA,CAAC,CAACG,IAAT,GAAkB,QAAlB,CAA6BH,CAAC,CAACG,IAA/B,CAAsCD,OAD3C,EAJJ,GAFH,cAUG,aAAK,SAAS,CAAEF,CAAC,CAACM,IAAF,GAAW,WAAX,CAAyB,0BAAzB,CAAsD,4BAAtE,WACKN,CAAC,CAACM,IAAF,GAAW,WAAX,CAAyB,GAAzB,CAA+B,GADpC,KAC0CN,CAAC,CAACO,MAD5C,GAVH,GADL,CAgBH,CAvBsB,CAD3B,cA0BI,WAAI,SAAS,CAAC,eAAd,EA1BJ,GADJ,CA8BH,CAnDD,CAqDA,cAAe1B,CAAAA,eAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './histories.css'\r\nimport {db} from '../../../services/firebase'\r\n\r\nconst TransferHistory = (props) => {\r\n    const user = props.user\r\n\r\n    //states\r\n    const [history, setHistory] = useState([])\r\n\r\n    //Functions\r\n    const getHistory = () => {\r\n        const history1 = []\r\n        db.collection('Deposits').where('user', '==', user.email).get().then(qSnap => {\r\n            qSnap.forEach(doc => {\r\n                const data = doc.data()\r\n                history1.push(data)\r\n            })\r\n            setHistory(history1)\r\n        })\r\n    }\r\n    useEffect(()=> {\r\n        getHistory()\r\n    }, [user])\r\n\r\n    return(\r\n        <div className=\"TransferHistory\">\r\n            {history.length > 0 && history.map(h => {\r\n                let dateStr\r\n                let newDate\r\n                if(typeof h.date !== 'string'){\r\n                    dateStr = String(h.date)\r\n                    newDate = `${dateStr.substring(4,6)}/${dateStr.substring(6,8)}/${dateStr.substring(0,4)}`\r\n                }\r\n                return(\r\n                     <div className=\"h-transfer-div\">\r\n                        <hr className=\"h-transfer-hr\" />\r\n                        <div className=\"h-transfer-div-left\">\r\n                            <div className=\"h-transfer-div-type\">\r\n                            {h.type === 'withdrawl' ? 'Withdrawl' : 'Deposit'}\r\n                            </div>\r\n                            <div className=\"h-transfer-div-date\">   \r\n                                {typeof h.date === 'string' ? h.date : newDate}\r\n                            </div>\r\n                        </div>\r\n                        <div className={h.type === 'withdrawl' ? \"h-transfer-div-right red\" : \"h-transfer-div-right green\"}> \r\n                            {h.type === 'withdrawl' ? '-' : '+'}${h.amount}\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })}\r\n           \r\n            <hr className=\"h-transfer-hr\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TransferHistory"]},"metadata":{},"sourceType":"module"}