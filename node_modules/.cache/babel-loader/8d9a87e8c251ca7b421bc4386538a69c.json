{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./tradeblock.css';import TBtrades from'./TBtrades';import TBoffers from'./TBoffers';import TBnfl from'./TBnfl';import TBnba from'./TBnba';import{Link}from'react-router-dom';import{db,firebaseAnalytics}from'../../services/firebase';import moment from'moment';var TradeBlock=function TradeBlock(props){//props\nvar user=props.user;//states\nvar _useState=useState('NBA'),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),transactions=_useState4[0],setTransactions=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),sort=_useState6[0],setSort=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),nba=_useState8[0],setNba=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),nfl=_useState10[0],setNfl=_useState10[1];useEffect(function(){setNba(props.nba);setNfl(props.nfl);},[props.nba,props.nfl]);//Functions\nvar date=moment().subtract(7,'d').format('YYYYMMDD');var yesterday=moment().subtract(1,'d').format('YYYYMMDD');var todate=moment().format('YYYYMMDD');var getTransactions=function getTransactions(){var tranArr=[];db.collection('Transactions').where('date','>=',date).onSnapshot(function(querySnap){querySnap.forEach(function(doc){var data=doc.data();tranArr.push(data);});tranArr.sort(function(a,b){return b.time-a.time;});setTransactions(tranArr);});};useEffect(function(){getTransactions();},[]);useEffect(function(){firebaseAnalytics.logEvent(\"trading_block_visit\",{user:user&&user.email});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"TradeBlock\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tb-cash-div\",children:[\"Cash: $\",user.cash&&user.cash.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"TBmenu scrollmenu scroll\",children:[/*#__PURE__*/_jsx(Link,{className:show==='NBA'?'black selected t-menu-item':'black t-menu-item',onClick:function onClick(){setShow('NBA');setSort(false);},children:/*#__PURE__*/_jsx(\"span\",{className:show==='NBA'?'black selected':'black',children:\"SimNBA\"})}),/*#__PURE__*/_jsx(Link,{className:show==='NFL'?'black selected t-menu-item':'black t-menu-item',onClick:function onClick(){setShow('NFL');setSort(false);},children:/*#__PURE__*/_jsx(\"span\",{className:show==='NFL'?'black selected':'black',children:\"SimNFL\"})}),/*#__PURE__*/_jsx(Link,{className:show==='Trades'?'black selected t-menu-item':'black t-menu-item',onClick:function onClick(){setShow('Trades');setSort(false);},children:/*#__PURE__*/_jsx(\"span\",{className:show==='Trades'?'black selected':'black',children:\"Trades\"})}),/*#__PURE__*/_jsx(Link,{className:show==='Offers'?'black selected t-menu-item':'black t-menu-item',onClick:function onClick(){setShow('Offers');setSort(false);},children:/*#__PURE__*/_jsx(\"span\",{className:show==='Offers'?'black selected':'black',children:\"Offers\"})}),/*#__PURE__*/_jsx(Link,{onClick:function onClick(){setSort(!sort);},className:\"t-menu-item\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-filter\"})})]}),show==='NBA'&&/*#__PURE__*/_jsx(TBnba,{user:user,nba:nba,sort:sort}),show==='NFL'&&/*#__PURE__*/_jsx(TBnfl,{user:user,nfl:nfl,sort:sort}),show==='Trades'&&/*#__PURE__*/_jsx(TBtrades,{user:user,transactions:transactions,week:date,today:todate,yesterday:yesterday,sort:sort}),show==='Offers'&&/*#__PURE__*/_jsx(TBoffers,{user:user,teams:props.teams,week:date,today:todate,yesterday:yesterday,sort:sort})]});};export default TradeBlock;","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/TradeBlock/TradeBlock.js"],"names":["React","useState","useEffect","TBtrades","TBoffers","TBnfl","TBnba","Link","db","firebaseAnalytics","moment","TradeBlock","props","user","show","setShow","transactions","setTransactions","sort","setSort","nba","setNba","nfl","setNfl","date","subtract","format","yesterday","todate","getTransactions","tranArr","collection","where","onSnapshot","querySnap","forEach","doc","data","push","a","b","time","logEvent","email","cash","toFixed","teams"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './tradeblock.css'\r\nimport TBtrades from './TBtrades'\r\nimport TBoffers from './TBoffers'\r\nimport TBnfl from './TBnfl'\r\nimport TBnba from './TBnba'\r\nimport {Link} from 'react-router-dom'\r\nimport {db, firebaseAnalytics} from '../../services/firebase'\r\nimport moment from 'moment'\r\n\r\nconst TradeBlock = (props) => {\r\n    //props\r\n    const user = props.user\r\n\r\n    //states\r\n    const [show, setShow] = useState('NBA')\r\n    const [transactions, setTransactions] = useState([])\r\n    const [sort, setSort] = useState(false)\r\n    const [nba, setNba] = useState([])\r\n    const [nfl, setNfl] = useState([])\r\n\r\n    useEffect(() => {\r\n        setNba(props.nba)\r\n        setNfl(props.nfl)\r\n    }, [props.nba, props.nfl])\r\n\r\n    //Functions\r\n    let date = moment().subtract(7,'d').format('YYYYMMDD')\r\n    let yesterday = moment().subtract(1,'d').format('YYYYMMDD')\r\n    let todate = moment().format('YYYYMMDD')\r\n    const getTransactions = () => { \r\n        let tranArr = []\r\n        db.collection('Transactions').where('date', '>=', date).onSnapshot(querySnap => {\r\n            querySnap.forEach(doc => {\r\n                const data = doc.data()\r\n                tranArr.push(data)\r\n            })\r\n            tranArr.sort(function(a, b) {\r\n                return b.time - a.time;\r\n            });\r\n            setTransactions(tranArr)\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getTransactions()\r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n        firebaseAnalytics.logEvent(\"trading_block_visit\", {\r\n           user: user && user.email \r\n        })\r\n    },[])\r\n\r\n    return(\r\n        <div className=\"TradeBlock\">\r\n            <div className=\"tb-cash-div\">Cash: ${user.cash && user.cash.toFixed(2)}</div>\r\n            <div className=\"TBmenu scrollmenu scroll\">\r\n                <Link className={show === 'NBA' ? 'black selected t-menu-item' : 'black t-menu-item'} onClick={()=>{setShow('NBA'); setSort(false)}}><span className={show === 'NBA' ? 'black selected' : 'black'}>SimNBA</span></Link>\r\n                <Link className={show === 'NFL' ? 'black selected t-menu-item' : 'black t-menu-item'} onClick={()=>{setShow('NFL'); setSort(false)}}><span className={show === 'NFL' ? 'black selected' : 'black'}>SimNFL</span></Link>\r\n                <Link className={show === 'Trades' ? 'black selected t-menu-item' : 'black t-menu-item'} onClick={()=>{setShow('Trades'); setSort(false)}}><span className={show === 'Trades' ? 'black selected' : 'black'}>Trades</span></Link>\r\n                <Link className={show === 'Offers' ? 'black selected t-menu-item' : 'black t-menu-item'} onClick={()=>{setShow('Offers'); setSort(false)}}><span className={show === 'Offers' ? 'black selected' : 'black'}>Offers</span></Link>\r\n                <Link onClick={()=>{setSort(!sort)}} className=\"t-menu-item\"><i className=\"fa fa-filter\"></i></Link>\r\n            </div>\r\n            {show === 'NBA' && <TBnba user={user} nba={nba} sort={sort} />}\r\n            {show === 'NFL' && <TBnfl user={user} nfl={nfl} sort={sort} />}\r\n            {show === 'Trades' && <TBtrades user={user} transactions={transactions} week={date} today={todate} yesterday={yesterday} sort={sort} />}\r\n            {show === 'Offers' && <TBoffers user={user} teams={props.teams} week={date} today={todate} yesterday={yesterday} sort={sort} />}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TradeBlock"]},"metadata":{},"sourceType":"module"}