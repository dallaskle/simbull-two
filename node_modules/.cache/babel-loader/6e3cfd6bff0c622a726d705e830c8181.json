{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./portfolio.css';import PPayouts from'./PPayouts';import Bonus from'./Bonus';var PTotal=function PTotal(props){//get states\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),teams=_useState4[0],setTeams=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],setValue=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),percentReturn=_useState8[0],setPercentReturn=_useState8[1];//Functions\nvar loadUser=function loadUser(){setUser(props.user);};useEffect(function(){loadUser();},[props.user]);var loadTeams=function loadTeams(){setTeams(props.teams);};useEffect(function(){loadTeams();},[props.teams]);var getValue=function getValue(){if(user){var _ret=function(){var holder=0;if(user.shares){var uShares=user.shares;var _loop=function _loop(i){var team=uShares[i].substring(0,uShares[i].length-4);if(uShares.indexOf(uShares[i])===i){var count=0;teams!==undefined&&teams.map(function(t){count++;if(count<63){if(team===t.team){holder=holder+t.lastSoldPrice;}}});}};for(var i=0;i<uShares.length;i++){_loop(i);}}return{v:(holder+user.cash).toFixed(2)};}();if(typeof _ret===\"object\")return _ret.v;}return 0;};var getPercentReturn=function getPercentReturn(){return((getValue()-(user?user.currentMoneyDeposited:0))/(user?user.currentMoneyDeposited:0)*100).toFixed(2);};return/*#__PURE__*/_jsxs(\"div\",{className:\"PTotal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-total-account\",children:\"Account Value\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"p-total-hr\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-total-value\",children:[\"$\",getValue()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-total-cash\",children:[\"Cash: \",/*#__PURE__*/_jsxs(\"span\",{className:\"p-total-cash-amt\",children:[\"$\",user&&user.cash&&user.cash.toFixed(2)]})]}),user&&user.code&&user.tenure<22&&user.bonusesReceived===0&&/*#__PURE__*/_jsx(Bonus,{user:props.user}),/*#__PURE__*/_jsx(PPayouts,{user:props.user,teams:props.teams}),/*#__PURE__*/_jsx(\"hr\",{className:\"p-graph-top\"}),/*#__PURE__*/_jsxs(\"div\",{className:getPercentReturn()>=0?\"p-graph-return green\":\"p-graph-return red\",children:[\"$\",(getValue()-(user&&user.currentMoneyDeposited)).toFixed(2),\" [\",getPercentReturn()>=0&&'+',getPercentReturn(),\"%] - All\"]})]});};export default PTotal;","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/Portfolio/PTotal.js"],"names":["React","useState","useEffect","PPayouts","Bonus","PTotal","props","user","setUser","teams","setTeams","value","setValue","percentReturn","setPercentReturn","loadUser","loadTeams","getValue","holder","shares","uShares","i","team","substring","length","indexOf","count","undefined","map","t","lastSoldPrice","cash","toFixed","getPercentReturn","currentMoneyDeposited","code","tenure","bonusesReceived"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './portfolio.css'\r\nimport PPayouts from './PPayouts'\r\nimport Bonus from './Bonus'\r\n\r\nconst PTotal = (props) => {\r\n\r\n    //get states\r\n    const [user, setUser] = useState()\r\n    const [teams, setTeams] = useState()\r\n    const [value, setValue] = useState(0)\r\n    const [percentReturn, setPercentReturn] = useState(0)\r\n\r\n    //Functions\r\n    const loadUser = () => {\r\n        setUser(props.user)\r\n    }\r\n    useEffect(() => {\r\n        loadUser()\r\n    }, [props.user])\r\n    const loadTeams = () => {\r\n        setTeams(props.teams)\r\n    }\r\n    useEffect(() => {\r\n        loadTeams()\r\n    }, [props.teams])\r\n\r\n    const getValue = () => {\r\n        if(user){\r\n            let holder = 0\r\n                if(user.shares){\r\n                    let uShares = user.shares\r\n                    for(let i = 0; i < uShares.length; i++){\r\n                        let team = uShares[i].substring(0, uShares[i].length - 4)\r\n                        if(uShares.indexOf(uShares[i]) === i){\r\n                            let count = 0\r\n                            teams !== undefined && teams.map(t => {\r\n                                count++\r\n                                if(count < 63){\r\n                                    if(team === t.team){\r\n                                        holder = holder + t.lastSoldPrice\r\n                                    }\r\n                                } \r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n            return (holder + user.cash).toFixed(2)\r\n        }\r\n        return 0\r\n    }\r\n\r\n    const getPercentReturn = () => {\r\n        return ((((getValue() - (user ? user.currentMoneyDeposited : 0)) / (user ? user.currentMoneyDeposited : 0)) * 100).toFixed(2))\r\n    }\r\n\r\n\r\n    return(\r\n        <div className='PTotal'>\r\n            <div className=\"p-total-account\">Account Value</div>\r\n            <hr className=\"p-total-hr\" />\r\n            <div className=\"p-total-value\">${getValue()}</div>\r\n            <div className=\"p-total-cash\">Cash: <span className=\"p-total-cash-amt\">${user && user.cash && user.cash.toFixed(2)}</span></div>\r\n            {user && user.code && user.tenure < 22 && user.bonusesReceived === 0 && <Bonus user={props.user} />}\r\n            <PPayouts user={props.user} teams={props.teams} />\r\n            <hr className=\"p-graph-top\" />\r\n            <div className={getPercentReturn() >=0 ? \"p-graph-return green\" : \"p-graph-return red\" }>${(getValue() - (user && user.currentMoneyDeposited)).toFixed(2)} [{getPercentReturn()>=0 && '+'}{getPercentReturn()}%] - All</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PTotal"]},"metadata":{},"sourceType":"module"}