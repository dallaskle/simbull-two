{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./tradeblock.css';import TBofferCard from'./TBofferCard';import moment from'moment';import{db}from'../../services/firebase';var TBoffers=function TBoffers(props){//states\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),bids=_useState2[0],setBids=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),asks=_useState4[0],setAsks=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),offers=_useState6[0],setOffers=_useState6[1];//Functions\nvar date=moment().subtract(18,'d').format('YYYYMMDD');var todate=moment().format('YYYYMMDD');var getOffers=function getOffers(){var bidArr=[];var askArr=[];db.collection('Bids').where('date','>=',date).onSnapshot(function(querySnap){querySnap.forEach(function(doc){var data=doc.data();bidArr.push(data);});setBids(bidArr);});db.collection('Asks').where('date','>=',date).onSnapshot(function(querySnap){querySnap.forEach(function(doc){var data=doc.data();askArr.push(data);});setAsks(askArr);});};useEffect(function(){getOffers();},[]);var combineOffers=function combineOffers(){var offersArr=bids.concat(asks);offersArr.sort(function(a,b){return a.date-b.date;});setOffers(offersArr);};useEffect(function(){combineOffers();},[bids,asks]);return/*#__PURE__*/_jsxs(\"div\",{className:\"TBoffers\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tb-o-div-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tb-t-title\",children:\"Bids\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tb-t-day\",children:\"1 Day\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tb-t-day\",children:\"7 Days\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"tb-t-hr\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"tb-t-hr\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tb-t-amt\",children:\"41\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tb-t-amt\",children:bids.length>0?bids.length:'0'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tb-o-div-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tb-t-title\",children:\"Asks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tb-t-day\",children:\"1 Day\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tb-t-day\",children:\"7 Days\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"tb-t-hr\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"tb-t-hr\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tb-t-amt\",children:\"41\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tb-t-amt\",children:asks.length>0?asks.length:'0'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tb-cards\",children:offers.map(function(o){return/*#__PURE__*/_jsx(TBofferCard,{teams:props.teams,o:o});})})]});};export default TBoffers;","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/TradeBlock/TBoffers.js"],"names":["React","useState","useEffect","TBofferCard","moment","db","TBoffers","props","bids","setBids","asks","setAsks","offers","setOffers","date","subtract","format","todate","getOffers","bidArr","askArr","collection","where","onSnapshot","querySnap","forEach","doc","data","push","combineOffers","offersArr","concat","sort","a","b","length","map","o","teams"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './tradeblock.css'\r\nimport TBofferCard from './TBofferCard'\r\nimport moment from 'moment'\r\nimport {db} from '../../services/firebase'\r\n\r\nconst TBoffers = (props) => {\r\n\r\n    //states\r\n    const [bids, setBids] = useState([])\r\n    const [asks, setAsks] = useState([])\r\n    const [offers, setOffers] = useState([])\r\n\r\n    //Functions\r\n    let date = moment().subtract(18,'d').format('YYYYMMDD')\r\n    let todate = moment().format('YYYYMMDD')\r\n    const getOffers = () => { \r\n        let bidArr = []\r\n        let askArr = []\r\n        db.collection('Bids').where('date', '>=', date).onSnapshot(querySnap => {\r\n            querySnap.forEach(doc => {\r\n                const data = doc.data()\r\n                bidArr.push(data)\r\n            })\r\n            setBids(bidArr)\r\n        })\r\n        db.collection('Asks').where('date', '>=', date).onSnapshot(querySnap => {\r\n            querySnap.forEach(doc => {\r\n                const data = doc.data()\r\n                askArr.push(data)\r\n            })\r\n            setAsks(askArr)\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getOffers()\r\n    }, [])\r\n    const combineOffers = () => {\r\n        let offersArr = bids.concat(asks)\r\n        offersArr.sort(function(a, b) {\r\n            return a.date - b.date;\r\n        });\r\n        setOffers(offersArr)\r\n    }\r\n    useEffect(() => {\r\n        combineOffers()\r\n    }, [bids, asks])\r\n \r\n    return(\r\n        <div className=\"TBoffers\">\r\n                <div className=\"tb-o-div-left\">\r\n                <div className=\"tb-t-title\">Bids</div>\r\n                <div className=\"tb-t-day\">1 Day</div>\r\n                <div className=\"tb-t-day\">7 Days</div>\r\n                <hr className=\"tb-t-hr\" />\r\n                <hr className=\"tb-t-hr\" />\r\n                <div className=\"tb-t-amt\">41</div>\r\n                <div className=\"tb-t-amt\">{bids.length > 0 ? bids.length : '0'}</div>\r\n            </div>\r\n            <div className=\"tb-o-div-right\">\r\n                <div className=\"tb-t-title\">Asks</div>\r\n                <div className=\"tb-t-day\">1 Day</div>\r\n                <div className=\"tb-t-day\">7 Days</div>\r\n                <hr className=\"tb-t-hr\" />\r\n                <hr className=\"tb-t-hr\" />\r\n                <div className=\"tb-t-amt\">41</div>\r\n                <div className=\"tb-t-amt\">{asks.length > 0 ? asks.length : '0'}</div>\r\n            </div>\r\n            <div className='tb-cards'>\r\n                {offers.map(o => {\r\n                    return <TBofferCard teams={props.teams} o={o} />\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TBoffers"]},"metadata":{},"sourceType":"module"}