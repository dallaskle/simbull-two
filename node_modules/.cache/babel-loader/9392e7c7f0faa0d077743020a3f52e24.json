{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./portfolio.css';import{db}from'../../services/firebase';import firebase from'firebase';var Bonus=function Bonus(props){//props\nvar user=props.user;//states\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),bonus=_useState4[0],setBonus=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),needed=_useState6[0],setNeeded=_useState6[1];//Functionality\nvar getBonus=function getBonus(){db.collection('Affiliates').doc(user.code).get().then(function(doc){if(doc.exists){var data=doc.data();setBonus(parseFloat(data.bonus));setNeeded(parseFloat(data.needed));}});};useEffect(function(){if(user.code){getBonus();}},[user.code]);//Add Bonus\nvar addBonus=function addBonus(){db.collection('Users').doc(user.email).update({cash:firebase.firestore.FieldValue.increment(bonus),bonusesReceived:firebase.firestore.FieldValue.increment(bonus)}).then(alert(\"$\".concat(bonus,\" Bonus Collected!\")));};return/*#__PURE__*/_jsxs(\"div\",{className:\"Bonus\",children:[!show&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setShow(true);},className:\"bonus-btn\",children:\"Collect Deposit Bonus\"}),show&&user.currentMoneyDeposited===0&&bonus!==0&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"collect-bonus-div\",children:[\"Deposit $\",needed,\" to get a bonus of $\",bonus,\"!\"]})}),show&&user.currentMoneyDeposited===0&&bonus===0&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"collect-bonus-div\",children:\"Sorry you have an invalid code.\"})}),show&&user.currentMoneyDeposited>=needed&&bonus!==0&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"collect-bonus-div\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:getBonus(),className:\"collect-bonus-btn\",children:[\"Collect a Bonus of $\",bonus.toFixed(2)]})})}),show&&user.currentMoneyDeposited<needed&&user.currentMoneyDeposited!==0&&bonus!==0&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"collect-bonus-div\",children:[\"Deposit $\",user.currentMoneyDeposited-needed,\" more to collect your $\",bonus,\" bonus\"]})}),show&&user.currentMoneyDeposited>=needed&&bonus===0&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"collect-bonus-div\",children:\"Sorry, you have an invalid code.\"})})]});};export default Bonus;","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/Portfolio/Bonus.js"],"names":["React","useState","useEffect","db","firebase","Bonus","props","user","show","setShow","bonus","setBonus","needed","setNeeded","getBonus","collection","doc","code","get","then","exists","data","parseFloat","addBonus","email","update","cash","firestore","FieldValue","increment","bonusesReceived","alert","currentMoneyDeposited","toFixed"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './portfolio.css'\r\nimport {db} from '../../services/firebase'\r\nimport firebase from 'firebase'\r\n\r\nconst Bonus = (props) => {\r\n\r\n    //props\r\n    const user = props.user\r\n\r\n    //states\r\n    const [show, setShow] = useState(false)\r\n    const [bonus, setBonus] = useState(0)\r\n    const [needed, setNeeded] = useState(0)\r\n\r\n    //Functionality\r\n    const getBonus = () => {\r\n        db.collection('Affiliates').doc(user.code).get().then(doc => {\r\n            if(doc.exists){\r\n                const data = doc.data()\r\n                setBonus(parseFloat(data.bonus))\r\n                setNeeded(parseFloat(data.needed))\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        if(user.code){\r\n            getBonus()\r\n        }\r\n    }, [user.code])\r\n\r\n    //Add Bonus\r\n    const addBonus = () => {\r\n        db.collection('Users').doc(user.email).update({\r\n            cash: firebase.firestore.FieldValue.increment(bonus),\r\n            bonusesReceived: firebase.firestore.FieldValue.increment(bonus)\r\n        }).then(alert(`$${bonus} Bonus Collected!`))\r\n    }\r\n\r\n\r\n    return( \r\n        <div className=\"Bonus\">\r\n            {!show && <button onClick={()=>{return setShow(true)}} className=\"bonus-btn\">Collect Deposit Bonus</button>}\r\n            {show && user.currentMoneyDeposited === 0 && bonus !==0 && <>\r\n                <div className=\"collect-bonus-div\">\r\n                    Deposit ${needed} to get a bonus of ${bonus}!\r\n                </div>\r\n            </>}\r\n            {show && user.currentMoneyDeposited === 0 && bonus === 0 && <>\r\n                <div className=\"collect-bonus-div\">\r\n                    Sorry you have an invalid code.\r\n                </div>\r\n            </>}\r\n            {show && user.currentMoneyDeposited >= needed && bonus !==0 && <>\r\n                <div className=\"collect-bonus-div\">\r\n                    <button onClick={getBonus()} className=\"collect-bonus-btn\">Collect a Bonus of ${bonus.toFixed(2)}</button>\r\n                </div>\r\n            </>}\r\n            {show && user.currentMoneyDeposited < needed && user.currentMoneyDeposited !== 0 && bonus !==0 && <>\r\n                <div className=\"collect-bonus-div\">\r\n                    Deposit ${user.currentMoneyDeposited - needed} more to collect your ${bonus} bonus\r\n                </div>\r\n            </>}\r\n            {show && user.currentMoneyDeposited >= needed && bonus === 0 && <>\r\n                <div className=\"collect-bonus-div\">\r\n                    Sorry, you have an invalid code.\r\n                </div>\r\n            </>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Bonus"]},"metadata":{},"sourceType":"module"}