{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useContext}from'react';import PayPalBtn1 from'./PayPalBtn1';import moment from'moment';import{db}from'../../../services/firebase';import firebase from'firebase';var user='';var paypalSubscribe=function paypalSubscribe(data,actions){return actions.subscription.create({'plan_id':\"P-4LB12660DG0426532L6CLGZQ\"});};var paypalOnError=function paypalOnError(err){alert('Error! Please try again.');};var paypalOnApprove=function paypalOnApprove(data,detail){console.log(\"Paypal approved\");var date=moment().format('MMMM Do YYYY, h:mm:ss a');db.collection('Deposits').doc(\"\".concat(date,\"-\").concat(user.email)).set({user:user.email,amount:25,date:date,type:'reocurring'});db.collection('Users').doc(user.email).update({cash:firebase.firestore.FieldValue.increment(25),currentMoneyDeposited:firebase.firestore.FieldValue.increment(25),totalValue:firebase.firestore.FieldValue.increment(25)}).then(function(result){alert('Deposit Successful! The funds will appear in the portfolio after the page is refreshed.');return window.location.href=\"https://simbull.app\";});};function PsWeekly25(props){user=props.user;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"paypal-subscription-amount\",children:\"Weekly $25\"}),/*#__PURE__*/_jsx(PayPalBtn1,{amount:\"25\",currency:\"USD\",createSubscription:paypalSubscribe,onApprove:paypalOnApprove,catchError:paypalOnError,onError:paypalOnError,onCancel:paypalOnError})]});}export default PsWeekly25;","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/Account/PayPal/PS-Weekly25.js"],"names":["React","useContext","PayPalBtn1","moment","db","firebase","user","paypalSubscribe","data","actions","subscription","create","paypalOnError","err","alert","paypalOnApprove","detail","console","log","date","format","collection","doc","email","set","amount","type","update","cash","firestore","FieldValue","increment","currentMoneyDeposited","totalValue","then","result","window","location","href","PsWeekly25","props"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,KAAgC,OAAhC,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAAQC,EAAR,KAAiB,4BAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CAEA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,IAAD,CAAOC,OAAP,CAAmB,CACzC,MAAOA,CAAAA,OAAO,CAACC,YAAR,CAAqBC,MAArB,CAA4B,CACjC,UAAW,4BADsB,CAA5B,CAAP,CAGD,CAJD,CAMA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,GAAD,CAAS,CAC7BC,KAAK,CAAC,0BAAD,CAAL,CACD,CAFD,CAIA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACP,IAAD,CAAOQ,MAAP,CAAkB,CAExCC,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACA,GAAIC,CAAAA,IAAI,CAAGhB,MAAM,GAAGiB,MAAT,CAAgB,yBAAhB,CAAX,CACAhB,EAAE,CAACiB,UAAH,CAAc,UAAd,EAA0BC,GAA1B,WAAiCH,IAAjC,aAAyCb,IAAI,CAACiB,KAA9C,GAAuDC,GAAvD,CAA2D,CACzDlB,IAAI,CAAEA,IAAI,CAACiB,KAD8C,CAEzDE,MAAM,CAAE,EAFiD,CAGzDN,IAAI,CAAEA,IAHmD,CAIzDO,IAAI,CAAE,YAJmD,CAA3D,EAMAtB,EAAE,CAACiB,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BhB,IAAI,CAACiB,KAAhC,EAAuCI,MAAvC,CAA8C,CAC5CC,IAAI,CAAEvB,QAAQ,CAACwB,SAAT,CAAmBC,UAAnB,CAA8BC,SAA9B,CAAwC,EAAxC,CADsC,CAE5CC,qBAAqB,CAAE3B,QAAQ,CAACwB,SAAT,CAAmBC,UAAnB,CAA8BC,SAA9B,CAAwC,EAAxC,CAFqB,CAG5CE,UAAU,CAAE5B,QAAQ,CAACwB,SAAT,CAAmBC,UAAnB,CAA8BC,SAA9B,CAAwC,EAAxC,CAHgC,CAA9C,EAIGG,IAJH,CAIQ,SAACC,MAAD,CAAY,CAClBrB,KAAK,CAAC,yFAAD,CAAL,CACA,MAAOsB,CAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,qBAA9B,CACD,CAPD,EAQD,CAlBD,CAqBA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACzBlC,IAAI,CAAGkC,KAAK,CAAClC,IAAb,CACA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,aAAM,SAAS,CAAC,4BAAhB,wBADF,cAEU,KAAC,UAAD,EACE,MAAM,CAAG,IADX,CAEE,QAAQ,CAAG,KAFb,CAGE,kBAAkB,CAAEC,eAHtB,CAIE,SAAS,CAAEQ,eAJb,CAKE,UAAU,CAAEH,aALd,CAME,OAAO,CAAEA,aANX,CAOE,QAAQ,CAAEA,aAPZ,EAFV,GADF,CAcD,CAED,cAAe2B,CAAAA,UAAf","sourcesContent":["import React, {useContext} from 'react';\r\nimport PayPalBtn1 from './PayPalBtn1'\r\nimport moment from 'moment'\r\nimport {db} from '../../../services/firebase'\r\nimport firebase from 'firebase'\r\n\r\nlet user = ''\r\n\r\nconst paypalSubscribe = (data, actions) => {\r\n  return actions.subscription.create({\r\n    'plan_id': \"P-4LB12660DG0426532L6CLGZQ\",\r\n  });\r\n};\r\n\r\nconst paypalOnError = (err) => {\r\n  alert('Error! Please try again.')\r\n}\r\n\r\nconst paypalOnApprove = (data, detail) => {\r\n\r\n  console.log(\"Paypal approved\")\r\n  let date = moment().format('MMMM Do YYYY, h:mm:ss a')\r\n  db.collection('Deposits').doc(`${date}-${user.email}`).set({\r\n    user: user.email,\r\n    amount: 25,\r\n    date: date,\r\n    type: 'reocurring'\r\n  })\r\n  db.collection('Users').doc(user.email).update({\r\n    cash: firebase.firestore.FieldValue.increment(25),\r\n    currentMoneyDeposited: firebase.firestore.FieldValue.increment(25),\r\n    totalValue: firebase.firestore.FieldValue.increment(25)\r\n  }).then((result) => {\r\n    alert('Deposit Successful! The funds will appear in the portfolio after the page is refreshed.')\r\n    return window.location.href = \"https://simbull.app\";\r\n  })\r\n};\r\n\r\n\r\nfunction PsWeekly25(props) {\r\n  user = props.user\r\n  return (\r\n    <div className=\"App\">\r\n      <span className=\"paypal-subscription-amount\">Weekly $25</span>\r\n              <PayPalBtn1\r\n                amount = \"25\"\r\n                currency = \"USD\"\r\n                createSubscription={paypalSubscribe}\r\n                onApprove={paypalOnApprove}\r\n                catchError={paypalOnError}\r\n                onError={paypalOnError}\r\n                onCancel={paypalOnError}\r\n            />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PsWeekly25;"]},"metadata":{},"sourceType":"module"}