{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import'./Login.css';import Navbar from'../LandingPage/NavBar';import Footer from'../LandingPage/Footer';import{db,auth}from'../../services/firebase';import firebase from'firebase';import moment from'moment';import{Link}from'react-router-dom';var Login=function Login(props){//states\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),login=_useState2[0],setLogin=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),checkPassword=_useState8[0],setCheckPassword=_useState8[1];var emailField=useRef(null);var passwordField=useRef(null);var code='';if(props.location.state&&props.location.state.code){code=props.location.state.code;}//capture autofill \nuseEffect(function(){var interval=setInterval(function(){if(emailField.current){setEmail(emailField.current.value);setPassword(passwordField.current.value);//do the same for all autofilled fields\nclearInterval(interval);}},100);});//Login\nvar handleLogIn=function handleLogIn(){auth.signInWithEmailAndPassword(email,password).catch(function(error){// Handle Errors here.\nvar errorMessage=error.message;alert(errorMessage);});setEmail('');setPassword('');};//Signup\nvar handleClick=function handleClick(){if(password===checkPassword&&document.getElementById('check').checked){if(email.length>0&&password.length>0){auth.signInWithEmailAndPassword(email,password).then(function(user){// Signed in \n// ...\nconsole.log('user signed in');}).catch(function(error){var errorCode=error.code;var errorMessage=error.message;// ..\ndb.collection('Users').doc(email.toLowerCase()).get().then(function(doc){if(doc.data()){alert(\"Wrong Password\");}else{var date=moment().format('MMMM Do YYYY, h:mm:ss a');var date2=moment().format('YYYYMMDD-HH:mm:ss');var day=moment();var priceDate=\"0\".concat(day.date()).slice(-2);var month=\"0\".concat(day.month()+1).slice(-2);var year=day.year();var useDate=\"\".concat(year).concat(month).concat(priceDate);var dbFriendly=\"prices.\".concat(useDate);var yesterday=moment().subtract(1,'days').format('YYYYMMDD');var dayBefore=moment().subtract(2,'days').format('YYYYMMDD');db.collection('Emails').doc(\"\".concat(date2,\"-\").concat(email)).set({email:email,date:date2}).then(function(res){var _prices;db.collection('Users').doc(email.toLowerCase()).set({email:email.toLowerCase(),cash:0,code:code,date:date,showPopup:true,totalValue:0,shares:[],totalPayouts:0,nbaPayouts:0,nflPayouts:0,completedProfile:false,currentMoneyDeposited:0,bonusesReceived:0,subscription:false,referred:0,tenure:2,prices:(_prices={},_defineProperty(_prices,useDate,0),_defineProperty(_prices,yesterday,0),_defineProperty(_prices,dayBefore,0),_prices),firstName:'',lastName:'',phoneNumber:'',address:'',zipCode:'',city:'',state:'',referredName:'',favoriteTeam:'',birthday:''}).then(function(res2){auth.createUserWithEmailAndPassword(email,password).catch(function(error){// Handle Errors here.\nvar errorMessage=error.message;alert(errorMessage);});});});}});});}else{alert('Please fill out all fields.');setEmail('');setPassword('');setCheckPassword('');}}else{alert('Passwords are not the same or the Terms Box is not checked');setEmail('');setPassword('');setCheckPassword('');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-head\",children:\"Welcome to SimBull - The Stock Market for Sports!\"}),login&&/*#__PURE__*/_jsxs(\"div\",{className:\"login-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-div-head\",children:\"Log In\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"login-div-input\",placeholder:\"email\",value:email,type:\"email\",onChange:function onChange(e){setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"login-div-input\",placeholder:\"password\",value:password,type:\"password\",onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogIn,className:\"login-div-btn\",children:\"Go To the Market\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-switch\",children:[\"If you dont have an account, \",/*#__PURE__*/_jsx(Link,{onClick:function onClick(){setLogin(false);},children:\"click here\"}),\" to sign up\"]})]}),!login&&/*#__PURE__*/_jsxs(\"div\",{className:\"login-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-div-head\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"login-div-input\",placeholder:\"email\",value:email,type:\"email\",onChange:function onChange(e){setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"login-div-input\",placeholder:\"password\",value:password,type:\"password\",onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"login-div-input\",placeholder:\"confirm password\",value:checkPassword,type:\"password\",onChange:function onChange(e){setCheckPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"check\",className:\"login-div-check\"}),\" I agree to SimBull's \",/*#__PURE__*/_jsx(Link,{to:\"/TermsOfUse\",children:\"Terms\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,className:\"login-div-btn\",children:\"Go To the Market\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-switch\",children:[\"If you have an account, \",/*#__PURE__*/_jsx(Link,{onClick:function onClick(){setLogin(true);},children:\"click here\"}),\" to login\"]})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Footer,{})]});};export default Login;","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/LogIn/Login.js"],"names":["React","useState","useRef","useEffect","Navbar","Footer","db","auth","firebase","moment","Link","Login","props","login","setLogin","email","setEmail","password","setPassword","checkPassword","setCheckPassword","emailField","passwordField","code","location","state","interval","setInterval","current","value","clearInterval","handleLogIn","signInWithEmailAndPassword","catch","error","errorMessage","message","alert","handleClick","document","getElementById","checked","length","then","user","console","log","errorCode","collection","doc","toLowerCase","get","data","date","format","date2","day","priceDate","slice","month","year","useDate","dbFriendly","yesterday","subtract","dayBefore","set","res","cash","showPopup","totalValue","shares","totalPayouts","nbaPayouts","nflPayouts","completedProfile","currentMoneyDeposited","bonusesReceived","subscription","referred","tenure","prices","firstName","lastName","phoneNumber","address","zipCode","city","referredName","favoriteTeam","birthday","res2","createUserWithEmailAndPassword","e","target"],"mappings":"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","sourcesContent":["import React, {useState, useRef, useEffect} from 'react'\r\nimport './Login.css'\r\nimport Navbar from '../LandingPage/NavBar'\r\nimport Footer from '../LandingPage/Footer'\r\nimport {db, auth} from '../../services/firebase'\r\nimport firebase from 'firebase'\r\nimport moment from 'moment'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst Login = (props) => {\r\n    //states\r\n    const [login, setLogin] = useState(true)\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [checkPassword, setCheckPassword] = useState('')\r\n    const emailField = useRef(null)\r\n    const passwordField = useRef(null)\r\n\r\n    let code = ''\r\n    if(props.location.state && props.location.state.code){code = props.location.state.code}\r\n\r\n    //capture autofill \r\n    useEffect(() => {\r\n        let interval = setInterval(() => {\r\n          if (emailField.current) {\r\n            setEmail(emailField.current.value)\r\n            setPassword(passwordField.current.value)\r\n            //do the same for all autofilled fields\r\n            clearInterval(interval)\r\n          }\r\n        }, 100)\r\n    })\r\n\r\n    //Login\r\n    const handleLogIn = () => {\r\n        auth.signInWithEmailAndPassword(email, password).catch(function(error) {\r\n            // Handle Errors here.\r\n            var errorMessage = error.message;\r\n            alert(errorMessage)\r\n        });\r\n        setEmail('');\r\n        setPassword('');\r\n    }\r\n\r\n    //Signup\r\n    const handleClick = () => {\r\n        if(password === checkPassword && document.getElementById('check').checked){\r\n            if(email.length > 0 && password.length > 0){\r\n                auth.signInWithEmailAndPassword(email, password)\r\n                    .then((user) => {\r\n                        // Signed in \r\n                        // ...\r\n                        console.log('user signed in')\r\n                    })\r\n                    .catch((error) => {\r\n                        var errorCode = error.code;\r\n                        var errorMessage = error.message;\r\n                        // ..\r\n                        db.collection('Users').doc(email.toLowerCase()).get().then(doc => {\r\n                            if(doc.data()){\r\n                                alert(`Wrong Password`)\r\n                            }\r\n                            else{\r\n                                let date = moment().format('MMMM Do YYYY, h:mm:ss a')\r\n                                let date2 = moment().format('YYYYMMDD-HH:mm:ss')\r\n                                let day = moment()\r\n                                let priceDate = (`0${day.date()}`).slice(-2)\r\n                                let month = (`0${day.month()+1}`).slice(-2)\r\n                                let year = day.year()\r\n                                let useDate = `${year}${month}${priceDate}`\r\n                                let dbFriendly = `prices.${useDate}`\r\n                                let yesterday = moment().subtract(1, 'days').format('YYYYMMDD');\r\n                                let dayBefore = moment().subtract(2, 'days').format('YYYYMMDD');\r\n                                db.collection('Emails').doc(`${date2}-${email}`).set({\r\n                                    email: email,\r\n                                    date: date2\r\n                                }).then(res => {\r\n                                    db.collection('Users').doc(email.toLowerCase()).set({\r\n                                        email: email.toLowerCase(),\r\n                                        cash: 0,\r\n                                        code: code,\r\n                                        date: date,\r\n                                        showPopup: true,\r\n                                        totalValue: 0,\r\n                                        shares: [],\r\n                                        totalPayouts: 0,\r\n                                        nbaPayouts: 0,\r\n                                        nflPayouts: 0,\r\n                                        completedProfile: false,\r\n                                        currentMoneyDeposited: 0,\r\n                                        bonusesReceived: 0,\r\n                                        subscription: false,\r\n                                        referred: 0,\r\n                                        tenure: 2, \r\n                                        prices: {\r\n                                            [useDate] : 0,\r\n                                            [yesterday] : 0,\r\n                                            [dayBefore] : 0\r\n                                        },\r\n                                        firstName: '',\r\n                                        lastName: '',\r\n                                        phoneNumber: '',\r\n                                        address: '',\r\n                                        zipCode: '',\r\n                                        city: '',\r\n                                        state: '',\r\n                                        referredName: '',\r\n                                        favoriteTeam: '',\r\n                                        birthday: '',\r\n                                    }).then(res2 => {\r\n                                        auth.createUserWithEmailAndPassword(email, password).catch(function(error) {\r\n                                            // Handle Errors here.\r\n                                            var errorMessage = error.message;\r\n                                            alert(errorMessage)\r\n                                        });\r\n                                    })\r\n                                })\r\n                            }\r\n                        })\r\n                    })\r\n            }\r\n            else{\r\n                alert('Please fill out all fields.')\r\n                setEmail('')\r\n                setPassword('')\r\n                setCheckPassword('')\r\n            }\r\n        }else{\r\n            alert('Passwords are not the same or the Terms Box is not checked')\r\n            setEmail('')\r\n            setPassword('')\r\n            setCheckPassword('')\r\n        }\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Navbar />\r\n            <div className=\"Login\">\r\n                <div className=\"login-head\">Welcome to SimBull - The Stock Market for Sports!</div>\r\n                {login && <div className=\"login-div\">\r\n                    <div className=\"login-div-head\">Log In</div>\r\n                    <div>\r\n                        <input className='login-div-input' placeholder='email' value={email} type='email' onChange={(e)=>{setEmail(e.target.value)}} />\r\n                        <input  className='login-div-input' placeholder='password' value={password} type=\"password\" onChange={(e)=>{setPassword(e.target.value)}} />\r\n                        <button onClick={handleLogIn} className='login-div-btn'>Go To the Market</button>\r\n                    </div>\r\n                    <div className='login-switch'>If you dont have an account, <Link onClick={()=>{setLogin(false)}}>click here</Link> to sign up</div>\r\n                </div>}\r\n                {!login && <div className=\"login-div\">\r\n                    <div className=\"login-div-head\">Sign Up</div>\r\n                    <div>\r\n                        <input className='login-div-input' placeholder='email' value={email} type='email' onChange={(e)=>{setEmail(e.target.value)}} />\r\n                        <input  className='login-div-input' placeholder='password' value={password} type=\"password\" onChange={(e)=>{setPassword(e.target.value)}} />\r\n                        <input  className='login-div-input' placeholder='confirm password' value={checkPassword} type=\"password\" onChange={(e)=>{setCheckPassword(e.target.value)}} />\r\n                        <br /><input type='checkbox' id=\"check\" className='login-div-check' /> I agree to SimBull's <Link to=\"/TermsOfUse\">Terms</Link>\r\n                        <button onClick={handleClick} className='login-div-btn'>Go To the Market</button>\r\n                    </div>\r\n                    <div className='login-switch'>If you have an account, <Link onClick={()=>{setLogin(true)}}>click here</Link> to login</div>\r\n                </div>}\r\n            </div>\r\n            <hr />\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}