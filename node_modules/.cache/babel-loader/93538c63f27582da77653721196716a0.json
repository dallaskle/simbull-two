{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./portfolio.css';import{db,firebaseAnalytics}from'../../services/firebase';import firebase from'firebase';var CollectPayouts=function CollectPayouts(props){//props\nvar user=props.user;//states\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),payouts=_useState2[0],setPayouts=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),total=_useState4[0],setTotal=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),nbaAmt=_useState6[0],setNbaAmt=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),nflAmt=_useState8[0],setNflAmt=_useState8[1];//Functionality\nvar getUncollectedPayouts=function getUncollectedPayouts(){if(user.email){var payouts1=[];var holder=0;var nba=0;var nfl=0;db.collection('Payouts').where('payoutUser','==',user.email).where('collected','==',false).get().then(function(snapshot){snapshot.forEach(function(doc){var data=doc.data();payouts1.push(data);holder=holder+data.payoutAmount;data.payoutAmount===0.1?nba=nba+0.1:nfl=nfl+0.5;});console.log('payouts');console.log(payouts1);setPayouts(payouts1);setTotal(holder);setNbaAmt(nba);setNflAmt(nfl);});}};useEffect(function(){getUncollectedPayouts();},[user]);var collectPayouts=function collectPayouts(){var watch=document.getElementById('watch').checked;var follow=document.getElementById('follow').checked;var checked=document.getElementById('checked').checked;var nope=document.getElementById('nope').checked;var date=Date.now();var batch=db.batch();var userRef=db.collection('Users').doc(user.email);batch.update(userRef,{cash:firebase.firestore.FieldValue.increment(total),totalPayouts:firebase.firestore.FieldValue.increment(payouts.length),nflPayouts:firebase.firestore.FieldValue.increment(nflAmt/0.5),nbaPayouts:firebase.firestore.FieldValue.increment(nbaAmt/0.1),uncollectedPayouts:firebase.firestore.FieldValue.increment(-payouts.length)});var feedbackRef=db.collection('feedback').doc(\"\".concat(date,\"-\").concat(user.email));batch.set(feedbackRef,{email:user.email,date:date,watch:watch,follow:follow,checked:checked,nope:nope});payouts.map(function(p){if(p.payoutAmount===0.1){var payoutRef=db.collection('Payouts').doc(\"\".concat(p.date,\"-\").concat(p.share,\"-\").concat(p.payoutUser));batch.update(payoutRef,{collected:true});}else if(p.payoutAmount===0.5){var _payoutRef=db.collection('Payouts').doc(\"\".concat(p.share,\"-\").concat(p.payoutUser,\"-\").concat(p.payoutAmount,\"-\").concat(p.date));batch.update(_payoutRef,{collected:true});}});batch.commit().then(function(res){alert(\"Win Payouts Collected: \".concat(payouts.length));return props.hide();});};useEffect(function(){firebaseAnalytics.logEvent(\"collectPayouts_visit\",{user:user&&user.email});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"CollectPayouts\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cp-close\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-times-circle\",onClick:props.hide})}),/*#__PURE__*/_jsx(\"div\",{className:\"cp-title\",children:\"Collect Win Payouts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cp-title-num\",children:[\"( \",payouts.length,\" )\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cp-card-holder\",children:[payouts.length>0&&payouts.map(function(p){return/*#__PURE__*/_jsxs(\"div\",{className:\"cp-card-div\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cp-card-left\",children:[\"Sim\",p.share.substring(0,p.share.length-4),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"cp-card-date\",children:\"\".concat(p.date.substring(4,6),\"/\").concat(p.date.substring(6,8),\"/\").concat(p.date.substring(2,4))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cp-card-right green\",children:[\"$\",p.payoutAmount.toFixed(2)]})]},\"\".concat(p.share,\"-\").concat(p.date,\"-\").concat(p.payoutUser));}),/*#__PURE__*/_jsx(\"hr\",{className:\"cp-card-total-hr\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cp-card-total\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cp-card-total-left\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cp-card-total-right\",children:[\"$\",total.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"align-bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cp-question-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cp-question\",children:\"Did you watch/follow any of these games?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cp-answers\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"cp-answers-input\",type:\"checkbox\",id:\"watch\",name:\"watch\",value:\"watch\"}),/*#__PURE__*/_jsx(\"label\",{className:\"cp-answers-txt\",for:\"watch\",children:\" I watched a game\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"cp-answers-input\",type:\"checkbox\",id:\"follow\",name:\"follow\",value:\"follow\"}),/*#__PURE__*/_jsx(\"label\",{className:\"cp-answers-txt\",for:\"follow\",children:\" I followed a game online\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"cp-answers-input\",type:\"checkbox\",id:\"checked\",name:\"checked\",value:\"checked\"}),/*#__PURE__*/_jsx(\"label\",{className:\"cp-answers-txt\",for:\"checked\",children:\" I checked the score\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"cp-answers-input\",type:\"checkbox\",id:\"nope\",name:\"nope\",value:\"nope\"}),/*#__PURE__*/_jsx(\"label\",{className:\"cp-answers-txt\",for:\"nope\",children:\"Nope\"}),/*#__PURE__*/_jsx(\"br\",{})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cp-card-btn-div\",children:/*#__PURE__*/_jsx(\"button\",{onClick:collectPayouts,className:\"cp-card-btn\",children:\"Collect Win Payouts\"})})]})]});};export default CollectPayouts;","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/Portfolio/CollectPayout.js"],"names":["React","useState","useEffect","db","firebaseAnalytics","firebase","CollectPayouts","props","user","payouts","setPayouts","total","setTotal","nbaAmt","setNbaAmt","nflAmt","setNflAmt","getUncollectedPayouts","email","payouts1","holder","nba","nfl","collection","where","get","then","snapshot","forEach","doc","data","push","payoutAmount","console","log","collectPayouts","watch","document","getElementById","checked","follow","nope","date","Date","now","batch","userRef","update","cash","firestore","FieldValue","increment","totalPayouts","length","nflPayouts","nbaPayouts","uncollectedPayouts","feedbackRef","set","map","p","payoutRef","share","payoutUser","collected","commit","res","alert","hide","logEvent","substring","toFixed"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './portfolio.css'\r\nimport {db, firebaseAnalytics} from '../../services/firebase'\r\nimport firebase from 'firebase'\r\n\r\nconst CollectPayouts = (props) => {\r\n    //props\r\n    const user = props.user\r\n\r\n    //states\r\n    const [payouts, setPayouts] = useState([])\r\n    const [total, setTotal] = useState(0)\r\n    const [nbaAmt, setNbaAmt] = useState(0)\r\n    const [nflAmt, setNflAmt] = useState(0)\r\n\r\n    //Functionality\r\n    const getUncollectedPayouts = () => {\r\n        if(user.email){\r\n            const payouts1 = []\r\n            let holder = 0\r\n            let nba = 0\r\n            let nfl = 0\r\n            db.collection('Payouts').where('payoutUser', '==', user.email).where('collected', '==', false).get().then(snapshot => {\r\n                snapshot.forEach(doc => {\r\n                    const data = doc.data()\r\n                    payouts1.push(data)\r\n                    holder = holder + data.payoutAmount\r\n                    data.payoutAmount === 0.1 ? nba = nba + 0.1 : nfl = nfl + 0.5\r\n                })\r\n                console.log('payouts')\r\n                console.log(payouts1)\r\n                setPayouts(payouts1)\r\n                setTotal(holder)\r\n                setNbaAmt(nba)\r\n                setNflAmt(nfl)\r\n            })\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        getUncollectedPayouts()\r\n    }, [user])\r\n\r\n    const collectPayouts = () => {\r\n        let watch = document.getElementById('watch').checked\r\n        let follow = document.getElementById('follow').checked\r\n        let checked = document.getElementById('checked').checked\r\n        let nope = document.getElementById('nope').checked\r\n        let date = Date.now()\r\n        let batch = db.batch()\r\n        let userRef =  db.collection('Users').doc(user.email)\r\n        batch.update(userRef, {\r\n                cash: firebase.firestore.FieldValue.increment(total),\r\n                totalPayouts: firebase.firestore.FieldValue.increment(payouts.length),\r\n                nflPayouts: firebase.firestore.FieldValue.increment(nflAmt / 0.5),\r\n                nbaPayouts: firebase.firestore.FieldValue.increment(nbaAmt / 0.1),\r\n                uncollectedPayouts: firebase.firestore.FieldValue.increment(-payouts.length)\r\n        })\r\n        let feedbackRef = db.collection('feedback').doc(`${date}-${user.email}`)\r\n        batch.set(feedbackRef, {\r\n            email: user.email,\r\n            date: date,\r\n            watch: watch,\r\n            follow: follow,\r\n            checked: checked,\r\n            nope: nope\r\n        })\r\n        payouts.map(p => {\r\n            if(p.payoutAmount === 0.1){\r\n                let payoutRef = db.collection('Payouts').doc(`${p.date}-${p.share}-${p.payoutUser}`)\r\n                batch.update(payoutRef, {\r\n                    collected: true\r\n                })\r\n            }else if(p.payoutAmount === 0.5){\r\n                let payoutRef = db.collection('Payouts').doc(`${p.share}-${p.payoutUser}-${p.payoutAmount}-${p.date}`)\r\n                batch.update(payoutRef, {\r\n                    collected: true\r\n                })\r\n            }\r\n        })\r\n        batch.commit().then(res => {alert(`Win Payouts Collected: ${payouts.length}`); return props.hide()})\r\n        \r\n    }\r\n\r\n    useEffect(()=>{\r\n        firebaseAnalytics.logEvent(\"collectPayouts_visit\", {\r\n           user: user && user.email \r\n        })\r\n    },[])\r\n\r\n    return(\r\n        <div className=\"CollectPayouts\">\r\n            <div className=\"cp-close\"><i className=\"fa fa-times-circle\" onClick={props.hide}></i></div>\r\n            <div className=\"cp-title\">Collect Win Payouts</div>\r\n            <div className=\"cp-title-num\">( {payouts.length} )</div>\r\n            <div className=\"cp-card-holder\">\r\n                \r\n                {payouts.length > 0 && payouts.map(p => {\r\n                    return(\r\n                        <div key={`${p.share}-${p.date}-${p.payoutUser}`} className=\"cp-card-div\">\r\n                            <div className=\"cp-card-left\">Sim{p.share.substring(0, p.share.length - 4)} <span className=\"cp-card-date\">{`${p.date.substring(4, 6)}/${p.date.substring(6, 8)}/${p.date.substring(2, 4)}`}</span></div>\r\n                            <div className=\"cp-card-right green\">${p.payoutAmount.toFixed(2)}</div>\r\n                        </div>\r\n                    )\r\n                })}\r\n\r\n                <hr className=\"cp-card-total-hr\" />\r\n                <div className=\"cp-card-total\">\r\n                    <div className='cp-card-total-left'>Total</div>\r\n                    <div className='cp-card-total-right'>${total.toFixed(2)}</div>\r\n                    \r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"align-bottom\">\r\n                <div className=\"cp-question-div\">\r\n                    <div className=\"cp-question\">\r\n                        Did you watch/follow any of these games?\r\n                    </div>\r\n                    <div className=\"cp-answers\">\r\n                        <input className=\"cp-answers-input\" type=\"checkbox\" id=\"watch\" name=\"watch\" value=\"watch\" />\r\n                        <label className=\"cp-answers-txt\" for=\"watch\"> I watched a game</label><br />\r\n                        <input className=\"cp-answers-input\" type=\"checkbox\" id=\"follow\" name=\"follow\" value=\"follow\" />\r\n                        <label className=\"cp-answers-txt\" for=\"follow\"> I followed a game online</label><br />\r\n                        <input className=\"cp-answers-input\" type=\"checkbox\" id=\"checked\" name=\"checked\" value=\"checked\" />\r\n                        <label className=\"cp-answers-txt\" for=\"checked\"> I checked the score</label><br />\r\n                        <input className=\"cp-answers-input\" type=\"checkbox\" id=\"nope\" name=\"nope\" value=\"nope\" />\r\n                        <label className=\"cp-answers-txt\" for=\"nope\">Nope</label><br />\r\n                    </div>\r\n                </div>\r\n                <div className=\"cp-card-btn-div\"><button onClick={collectPayouts} className=\"cp-card-btn\">Collect Win Payouts</button></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CollectPayouts"]},"metadata":{},"sourceType":"module"}