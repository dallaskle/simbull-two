{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import _objectSpread from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import'./functions.css';import'../Holdings/TeamCard.css';import BuyShare from'./BuyShare';import SellShare from'./SellShare';import CreateAsk from'./CreateAsk';import CreateBid from'./CreateBid';import{Overlay,Tooltip}from'react-bootstrap';import{db}from'../../services/firebase';var TradeButtons=function TradeButtons(props){//props\nvar shares=props.shares;var team=props.team;var user=props.user;//states\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),showBuy=_useState2[0],setShowBuy=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showSell=_useState4[0],setShowSell=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showAsk=_useState6[0],setShowAsk=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showBid=_useState8[0],setShowBid=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),bidsArr=_useState10[0],setBidsArr=_useState10[1];//Functionality\nvar closeSell=function closeSell(){return setShowSell(false);};var closeBuy=function closeBuy(){return setShowBuy(false);};var closeBid=function closeBid(){return setShowBid(false);};var closeAsk=function closeAsk(){return setShowAsk(false);};//Offers buttons\nfunction Example(){var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showOffers=_useState12[0],setShowOffers=_useState12[1];var target=useRef(null);var routeOffers=function routeOffers(){if(shares===0){setShowBid(true);}else{setShowOffers(true);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:routeOffers,ref:target,className:\"te-function-btn\",children:\"Offer\"}),/*#__PURE__*/_jsx(Overlay,{target:target.current,show:showOffers,placement:\"top\",children:function children(props){return/*#__PURE__*/_jsx(Tooltip,_objectSpread(_objectSpread({id:\"overlay-example\"},props),{},{children:/*#__PURE__*/_jsxs(\"div\",{className:\"trade-offer-btns-div\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"trade-offer-btns\",onClick:function onClick(){return setShowAsk(true);},name:\"Ask\",value:showAsk,children:\"Offer To Sell\"}),/*#__PURE__*/_jsx(\"button\",{className:\"trade-offer-btns\",onClick:function onClick(){return setShowBid(true);},name:\"Bid\",value:showBid,children:\"Offer To Buy\"})]})}));}})]});}//get bids for sell share\nvar getBids=function getBids(){var bidsArr1=[];db.collection('Bids').where('bidTeam','==',team.team).onSnapshot(function(snapshot){bidsArr1=[];snapshot.forEach(function(doc){var data=doc.data();bidsArr1.push(data);});bidsArr1.sort(function compare(a,b){return b.bidPrice-a.bidPrice;});console.log(bidsArr1);return setBidsArr(bidsArr1);});};useEffect(function(){getBids();},[props]);//Turn off Scrolling\nreturn/*#__PURE__*/_jsxs(\"div\",{className:showBuy||showSell||showAsk||showBid?\"TradeButtons noScroll\":\"TradeButtons\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"te-function-div\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setShowBuy(true);},className:\"te-function-btn\",children:\"Buy\"}),/*#__PURE__*/_jsx(Example,{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setShowSell(true);},className:\"te-function-btn\",children:\"Sell\"})]}),showBuy&&/*#__PURE__*/_jsx(BuyShare,{team:team,user:user,closeBuy:closeBuy}),showSell&&/*#__PURE__*/_jsx(SellShare,{shares:shares,team:team,user:user,bidsArr:bidsArr,closeSell:closeSell}),showAsk&&/*#__PURE__*/_jsx(CreateAsk,{shares:shares,team:team,user:user,closeAsk:closeAsk}),showBid&&/*#__PURE__*/_jsx(CreateBid,{team:team,user:user,closeBid:closeBid})]});};export default TradeButtons;","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/Functionality/TradeButtons.js"],"names":["React","useState","useRef","useEffect","BuyShare","SellShare","CreateAsk","CreateBid","Overlay","Tooltip","db","TradeButtons","props","shares","team","user","showBuy","setShowBuy","showSell","setShowSell","showAsk","setShowAsk","showBid","setShowBid","bidsArr","setBidsArr","closeSell","closeBuy","closeBid","closeAsk","Example","showOffers","setShowOffers","target","routeOffers","current","getBids","bidsArr1","collection","where","onSnapshot","snapshot","forEach","doc","data","push","sort","compare","a","b","bidPrice","console","log"],"mappings":"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","sourcesContent":["import React, {useState, useRef, useEffect} from 'react'\r\nimport './functions.css'\r\nimport '../Holdings/TeamCard.css'\r\nimport BuyShare from './BuyShare'\r\nimport SellShare from './SellShare'\r\nimport CreateAsk from './CreateAsk'\r\nimport CreateBid from './CreateBid'\r\nimport {Overlay, Tooltip} from 'react-bootstrap'\r\nimport {db} from '../../services/firebase'\r\n\r\nconst TradeButtons = (props) => {\r\n    //props\r\n    const shares = props.shares\r\n    const team = props.team\r\n    const user = props.user\r\n\r\n    //states\r\n    const [showBuy, setShowBuy] = useState(false)\r\n    const [showSell, setShowSell] = useState(false)\r\n    const [showAsk, setShowAsk] = useState(false)\r\n    const [showBid, setShowBid] = useState(false)\r\n    const [bidsArr, setBidsArr] = useState([])\r\n    \r\n\r\n    //Functionality\r\n    const closeSell = () => {return setShowSell(false)}\r\n    const closeBuy = () => {return setShowBuy(false)}\r\n    const closeBid = () => {return setShowBid(false)}\r\n    const closeAsk = () => {return setShowAsk(false)}\r\n\r\n \r\n    //Offers buttons\r\n    function Example() {\r\n        const [showOffers, setShowOffers] = useState(false)\r\n        const target = useRef(null);\r\n\r\n        const routeOffers = () => {\r\n            if(shares === 0){\r\n                setShowBid(true)\r\n            }else{\r\n                setShowOffers(true)\r\n            }\r\n        }\r\n      \r\n        return (\r\n          <>\r\n            <button onClick={routeOffers} ref={target} className=\"te-function-btn\">Offer</button>\r\n            <Overlay target={target.current} show={showOffers} placement=\"top\">\r\n              {(props) => (\r\n                <Tooltip  id=\"overlay-example\" {...props}>\r\n                    <div className='trade-offer-btns-div'>\r\n                        <button className=\"trade-offer-btns\" onClick={()=>{return setShowAsk(true)}} name='Ask' value={showAsk}>Offer To Sell</button>\r\n                        <button className=\"trade-offer-btns\" onClick={()=>{return setShowBid(true)}} name='Bid' value={showBid}>Offer To Buy</button>\r\n                    </div>\r\n                </Tooltip>\r\n              )}\r\n            </Overlay>\r\n          </>\r\n        );\r\n    }\r\n\r\n    //get bids for sell share\r\n    const getBids = () => {\r\n        let bidsArr1 = []\r\n        db.collection('Bids').where('bidTeam', '==', team.team).onSnapshot(snapshot => {\r\n            bidsArr1 = []\r\n            snapshot.forEach(doc => {\r\n                const data = doc.data()\r\n                bidsArr1.push(data)\r\n            })\r\n            bidsArr1.sort(function compare(a, b) {\r\n                return b.bidPrice - a.bidPrice;\r\n            })\r\n            console.log(bidsArr1)\r\n            return setBidsArr(bidsArr1)\r\n        })   \r\n    }\r\n    useEffect(() => {getBids()}, [props])\r\n\r\n    //Turn off Scrolling\r\n\r\n    return(\r\n        <div className={showBuy || showSell || showAsk || showBid ?\"TradeButtons noScroll\":\"TradeButtons\"}>\r\n            <div className=\"te-function-div\">\r\n                <button onClick={()=>{return setShowBuy(true)}} className=\"te-function-btn\">Buy</button>\r\n                <Example />\r\n                <button onClick={()=>{return setShowSell(true)}} className=\"te-function-btn\">Sell</button>\r\n            </div>\r\n            {showBuy && <BuyShare team={team} user={user} closeBuy={closeBuy} />}\r\n            {showSell && <SellShare shares={shares} team={team} user={user} bidsArr={bidsArr} closeSell={closeSell} />}\r\n            {showAsk && <CreateAsk shares={shares} team={team} user={user} closeAsk={closeAsk} />}\r\n            {showBid && <CreateBid team={team} user={user} closeBid={closeBid}  />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TradeButtons"]},"metadata":{},"sourceType":"module"}