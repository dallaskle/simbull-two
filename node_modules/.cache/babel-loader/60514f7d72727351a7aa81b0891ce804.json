{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import'./landingpage.css';import{db,auth}from'../../services/firebase';import moment from'moment';var Signup=function Signup(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var emailField=useRef(null);var passwordField=useRef(null);var code='';if(props.location&&props.location.state&&props.location.state.code){code=props.location.state.code;}else{if(props.code){code=props.code;}}var handleEmail=function handleEmail(e){setEmail(e.target.value);};var handlePassword=function handlePassword(e){setPassword(e.target.value);};var handleClick=function handleClick(e){e.preventDefault();if(email.length>0&&password.length>0){auth.signInWithEmailAndPassword(email,password).then(function(user){// Signed in \n// ...\nconsole.log('user signed in');}).catch(function(error){var errorCode=error.code;var errorMessage=error.message;// ..\ndb.collection('Users').doc(email.toLowerCase()).get().then(function(doc){if(doc.data()){alert(\"Wrong Password\");}else{var date=moment().format('MMMM Do YYYY, h:mm:ss a');var date2=moment().format('YYYYMMDD-HH:mm:ss');var day=moment();var priceDate=\"0\".concat(day.date()).slice(-2);var month=\"0\".concat(day.month()+1).slice(-2);var year=day.year();var useDate=\"\".concat(year).concat(month).concat(priceDate);var dbFriendly=\"prices.\".concat(useDate);var yesterday=moment().subtract(1,'days').format('YYYYMMDD');var dayBefore=moment().subtract(2,'days').format('YYYYMMDD');db.collection('Emails').doc(\"\".concat(date2,\"-\").concat(email)).set({email:email,date:date2}).then(function(res){var _prices;db.collection('Users').doc(email.toLowerCase()).set({email:email.toLowerCase(),cash:0,code:code,date:date,showPopup:true,totalValue:0,shares:[],totalPayouts:0,nbaPayouts:0,nflPayouts:0,completedProfile:false,currentMoneyDeposited:0,bonusesReceived:0,subscription:false,referred:0,tenure:2,prices:(_prices={},_defineProperty(_prices,useDate,0),_defineProperty(_prices,yesterday,0),_defineProperty(_prices,dayBefore,0),_prices),firstName:'',lastName:'',phoneNumber:'',address:'',zipCode:'',city:'',state:'',referredName:'',favoriteTeam:'',birthday:''}).then(function(res2){auth.createUserWithEmailAndPassword(email,password).catch(function(error){// Handle Errors here.\nvar errorMessage=error.message;alert(errorMessage);});});});}});});}else{alert('Please fill out both fields.');setEmail('');setPassword('');}};useEffect(function(){var interval=setInterval(function(){if(emailField.current){setEmail(emailField.current.value);setPassword(passwordField.current.value);//do the same for all autofilled fields\nclearInterval(interval);}},100);});return/*#__PURE__*/_jsxs(\"div\",{className:\"signup transition\",children:[/*#__PURE__*/_jsx(\"hr\",{className:\"signup-hr\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup-title robo900\",children:[\"Create a Free Account and \",/*#__PURE__*/_jsx(\"br\",{}),\"Join the Market in Seconds\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleClick,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleEmail,className:\"signup-input robo200\",placeholder:\"email\",type:\"email\",value:email}),/*#__PURE__*/_jsx(\"input\",{onChange:handlePassword,className:\"signup-input robo200\",placeholder:\"password\",type:\"password\",value:password}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"signup-terms robo200\",children:[\"By creating an account, you agree to SimBull's\",/*#__PURE__*/_jsx(\"a\",{href:\"/Terms-Of-Use\",children:\" Terms\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"signup-btn robo400\",children:\"Go To the Market\"})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"signup-hr\"})]});};export default Signup;","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/LandingPage/Signup.js"],"names":["React","useState","useEffect","useRef","db","auth","moment","Signup","props","email","setEmail","password","setPassword","emailField","passwordField","code","location","state","handleEmail","e","target","value","handlePassword","handleClick","preventDefault","length","signInWithEmailAndPassword","then","user","console","log","catch","error","errorCode","errorMessage","message","collection","doc","toLowerCase","get","data","alert","date","format","date2","day","priceDate","slice","month","year","useDate","dbFriendly","yesterday","subtract","dayBefore","set","res","cash","showPopup","totalValue","shares","totalPayouts","nbaPayouts","nflPayouts","completedProfile","currentMoneyDeposited","bonusesReceived","subscription","referred","tenure","prices","firstName","lastName","phoneNumber","address","zipCode","city","referredName","favoriteTeam","birthday","res2","createUserWithEmailAndPassword","interval","setInterval","current","clearInterval"],"mappings":"8YAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,MAApC,KAAiD,OAAjD,CACA,MAAO,mBAAP,CACA,OAAQC,EAAR,CAAYC,IAAZ,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,eACIP,QAAQ,CAAC,EAAD,CADZ,wCACfQ,KADe,eACRC,QADQ,8BAEUT,QAAQ,CAAC,EAAD,CAFlB,yCAEfU,QAFe,eAELC,WAFK,eAGtB,GAAMC,CAAAA,UAAU,CAAGV,MAAM,CAAC,IAAD,CAAzB,CACA,GAAMW,CAAAA,aAAa,CAAGX,MAAM,CAAC,IAAD,CAA5B,CAEA,GAAIY,CAAAA,IAAI,CAAG,EAAX,CACA,GAAGP,KAAK,CAACQ,QAAN,EAAkBR,KAAK,CAACQ,QAAN,CAAeC,KAAjC,EAA0CT,KAAK,CAACQ,QAAN,CAAeC,KAAf,CAAqBF,IAAlE,CAAuE,CAACA,IAAI,CAAGP,KAAK,CAACQ,QAAN,CAAeC,KAAf,CAAqBF,IAA5B,CAAiC,CAAzG,IAA6G,CACzG,GAAGP,KAAK,CAACO,IAAT,CAAc,CAACA,IAAI,CAAGP,KAAK,CAACO,IAAb,CAAkB,CACpC,CAGD,GAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACvBT,QAAQ,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACH,CAFD,CAGA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACH,CAAD,CAAO,CAC1BP,WAAW,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACH,CAFD,CAIA,GAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACJ,CAAD,CAAO,CACvBA,CAAC,CAACK,cAAF,GACA,GAAGf,KAAK,CAACgB,MAAN,CAAe,CAAf,EAAoBd,QAAQ,CAACc,MAAT,CAAkB,CAAzC,CAA2C,CACvCpB,IAAI,CAACqB,0BAAL,CAAgCjB,KAAhC,CAAuCE,QAAvC,EACKgB,IADL,CACU,SAACC,IAAD,CAAU,CACZ;AACA;AACAC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACH,CALL,EAMKC,KANL,CAMW,SAACC,KAAD,CAAW,CACd,GAAIC,CAAAA,SAAS,CAAGD,KAAK,CAACjB,IAAtB,CACA,GAAImB,CAAAA,YAAY,CAAGF,KAAK,CAACG,OAAzB,CACA;AACA/B,EAAE,CAACgC,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2B5B,KAAK,CAAC6B,WAAN,EAA3B,EAAgDC,GAAhD,GAAsDZ,IAAtD,CAA2D,SAAAU,GAAG,CAAI,CAC9D,GAAGA,GAAG,CAACG,IAAJ,EAAH,CAAc,CACVC,KAAK,kBAAL,CACH,CAFD,IAGI,CACA,GAAIC,CAAAA,IAAI,CAAGpC,MAAM,GAAGqC,MAAT,CAAgB,yBAAhB,CAAX,CACA,GAAIC,CAAAA,KAAK,CAAGtC,MAAM,GAAGqC,MAAT,CAAgB,mBAAhB,CAAZ,CACA,GAAIE,CAAAA,GAAG,CAAGvC,MAAM,EAAhB,CACA,GAAIwC,CAAAA,SAAS,CAAG,WAAKD,GAAG,CAACH,IAAJ,EAAL,EAAmBK,KAAnB,CAAyB,CAAC,CAA1B,CAAhB,CACA,GAAIC,CAAAA,KAAK,CAAG,WAAKH,GAAG,CAACG,KAAJ,GAAY,CAAjB,EAAsBD,KAAtB,CAA4B,CAAC,CAA7B,CAAZ,CACA,GAAIE,CAAAA,IAAI,CAAGJ,GAAG,CAACI,IAAJ,EAAX,CACA,GAAIC,CAAAA,OAAO,WAAMD,IAAN,SAAaD,KAAb,SAAqBF,SAArB,CAAX,CACA,GAAIK,CAAAA,UAAU,kBAAaD,OAAb,CAAd,CACA,GAAIE,CAAAA,SAAS,CAAG9C,MAAM,GAAG+C,QAAT,CAAkB,CAAlB,CAAqB,MAArB,EAA6BV,MAA7B,CAAoC,UAApC,CAAhB,CACA,GAAIW,CAAAA,SAAS,CAAGhD,MAAM,GAAG+C,QAAT,CAAkB,CAAlB,CAAqB,MAArB,EAA6BV,MAA7B,CAAoC,UAApC,CAAhB,CACAvC,EAAE,CAACgC,UAAH,CAAc,QAAd,EAAwBC,GAAxB,WAA+BO,KAA/B,aAAwCnC,KAAxC,GAAiD8C,GAAjD,CAAqD,CACjD9C,KAAK,CAAEA,KAD0C,CAEjDiC,IAAI,CAAEE,KAF2C,CAArD,EAGGjB,IAHH,CAGQ,SAAA6B,GAAG,CAAI,aACXpD,EAAE,CAACgC,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2B5B,KAAK,CAAC6B,WAAN,EAA3B,EAAgDiB,GAAhD,CAAoD,CAChD9C,KAAK,CAAEA,KAAK,CAAC6B,WAAN,EADyC,CAEhDmB,IAAI,CAAE,CAF0C,CAGhD1C,IAAI,CAAEA,IAH0C,CAIhD2B,IAAI,CAAEA,IAJ0C,CAKhDgB,SAAS,CAAE,IALqC,CAMhDC,UAAU,CAAE,CANoC,CAOhDC,MAAM,CAAE,EAPwC,CAQhDC,YAAY,CAAE,CARkC,CAShDC,UAAU,CAAE,CAToC,CAUhDC,UAAU,CAAE,CAVoC,CAWhDC,gBAAgB,CAAE,KAX8B,CAYhDC,qBAAqB,CAAE,CAZyB,CAahDC,eAAe,CAAE,CAb+B,CAchDC,YAAY,CAAE,KAdkC,CAehDC,QAAQ,CAAE,CAfsC,CAgBhDC,MAAM,CAAE,CAhBwC,CAiBhDC,MAAM,qCACDpB,OADC,CACU,CADV,0BAEDE,SAFC,CAEY,CAFZ,0BAGDE,SAHC,CAGY,CAHZ,UAjB0C,CAsBhDiB,SAAS,CAAE,EAtBqC,CAuBhDC,QAAQ,CAAE,EAvBsC,CAwBhDC,WAAW,CAAE,EAxBmC,CAyBhDC,OAAO,CAAE,EAzBuC,CA0BhDC,OAAO,CAAE,EA1BuC,CA2BhDC,IAAI,CAAE,EA3B0C,CA4BhD3D,KAAK,CAAE,EA5ByC,CA6BhD4D,YAAY,CAAE,EA7BkC,CA8BhDC,YAAY,CAAE,EA9BkC,CA+BhDC,QAAQ,CAAE,EA/BsC,CAApD,EAgCGpD,IAhCH,CAgCQ,SAAAqD,IAAI,CAAI,CACZ3E,IAAI,CAAC4E,8BAAL,CAAoCxE,KAApC,CAA2CE,QAA3C,EAAqDoB,KAArD,CAA2D,SAASC,KAAT,CAAgB,CACvE;AACA,GAAIE,CAAAA,YAAY,CAAGF,KAAK,CAACG,OAAzB,CACAM,KAAK,CAACP,YAAD,CAAL,CACH,CAJD,EAKH,CAtCD,EAuCH,CA3CD,EA4CH,CACJ,CA5DD,EA6DH,CAvEL,EAwEH,CAzED,IA0EI,CACAO,KAAK,CAAC,8BAAD,CAAL,CACA/B,QAAQ,CAAC,EAAD,CAAR,CACAE,WAAW,CAAC,EAAD,CAAX,CACH,CACJ,CAjFD,CAmFAV,SAAS,CAAC,UAAM,CACZ,GAAIgF,CAAAA,QAAQ,CAAGC,WAAW,CAAC,UAAM,CAC/B,GAAItE,UAAU,CAACuE,OAAf,CAAwB,CACtB1E,QAAQ,CAACG,UAAU,CAACuE,OAAX,CAAmB/D,KAApB,CAAR,CACAT,WAAW,CAACE,aAAa,CAACsE,OAAd,CAAsB/D,KAAvB,CAAX,CACA;AACAgE,aAAa,CAACH,QAAD,CAAb,CACD,CACF,CAPyB,CAOvB,GAPuB,CAA1B,CAQH,CATQ,CAAT,CAWA,mBACI,aAAK,SAAS,CAAC,mBAAf,wBACI,WAAI,SAAS,CAAC,WAAd,EADJ,cAEI,aAAK,SAAS,CAAC,sBAAf,qDAAgE,aAAhE,gCAFJ,cAGI,cAAM,QAAQ,CAAE3D,WAAhB,wBACI,cAAO,QAAQ,CAAEL,WAAjB,CAA8B,SAAS,CAAC,sBAAxC,CAA+D,WAAW,CAAC,OAA3E,CAAmF,IAAI,CAAC,OAAxF,CAAgG,KAAK,CAAET,KAAvG,EADJ,cAEI,cAAO,QAAQ,CAAEa,cAAjB,CAAkC,SAAS,CAAC,sBAA5C,CAAmE,WAAW,CAAC,UAA/E,CAA0F,IAAI,CAAC,UAA/F,CAA0G,KAAK,CAAEX,QAAjH,EAFJ,cAGI,aAHJ,cAII,cAAM,SAAS,CAAC,sBAAhB,yEAAqF,UAAG,IAAI,CAAC,eAAR,oBAArF,GAJJ,cAKI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,oBAAhC,8BALJ,GAHJ,cAUI,WAAI,SAAS,CAAC,WAAd,EAVJ,GADJ,CAcH,CA/HD,CAiIA,cAAeJ,CAAAA,MAAf","sourcesContent":["import React, {useState, useEffect, useRef} from 'react'\r\nimport './landingpage.css'\r\nimport {db, auth} from '../../services/firebase'\r\nimport moment from 'moment'\r\n \r\nconst Signup = (props) => {\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const emailField = useRef(null)\r\n    const passwordField = useRef(null)\r\n\r\n    let code = ''\r\n    if(props.location && props.location.state && props.location.state.code){code = props.location.state.code}else{\r\n        if(props.code){code = props.code}\r\n    }\r\n    \r\n\r\n    const handleEmail = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n    const handlePassword = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    const handleClick = (e) => {\r\n        e.preventDefault()\r\n        if(email.length > 0 && password.length > 0){\r\n            auth.signInWithEmailAndPassword(email, password)\r\n                .then((user) => {\r\n                    // Signed in \r\n                    // ...\r\n                    console.log('user signed in')\r\n                })\r\n                .catch((error) => {\r\n                    var errorCode = error.code;\r\n                    var errorMessage = error.message;\r\n                    // ..\r\n                    db.collection('Users').doc(email.toLowerCase()).get().then(doc => {\r\n                        if(doc.data()){\r\n                            alert(`Wrong Password`)\r\n                        }\r\n                        else{\r\n                            let date = moment().format('MMMM Do YYYY, h:mm:ss a')\r\n                            let date2 = moment().format('YYYYMMDD-HH:mm:ss')\r\n                            let day = moment()\r\n                            let priceDate = (`0${day.date()}`).slice(-2)\r\n                            let month = (`0${day.month()+1}`).slice(-2)\r\n                            let year = day.year()\r\n                            let useDate = `${year}${month}${priceDate}`\r\n                            let dbFriendly = `prices.${useDate}`\r\n                            let yesterday = moment().subtract(1, 'days').format('YYYYMMDD');\r\n                            let dayBefore = moment().subtract(2, 'days').format('YYYYMMDD');\r\n                            db.collection('Emails').doc(`${date2}-${email}`).set({\r\n                                email: email,\r\n                                date: date2\r\n                            }).then(res => {\r\n                                db.collection('Users').doc(email.toLowerCase()).set({\r\n                                    email: email.toLowerCase(),\r\n                                    cash: 0,\r\n                                    code: code,\r\n                                    date: date,\r\n                                    showPopup: true,\r\n                                    totalValue: 0,\r\n                                    shares: [],\r\n                                    totalPayouts: 0,\r\n                                    nbaPayouts: 0,\r\n                                    nflPayouts: 0,\r\n                                    completedProfile: false,\r\n                                    currentMoneyDeposited: 0,\r\n                                    bonusesReceived: 0,\r\n                                    subscription: false,\r\n                                    referred: 0,\r\n                                    tenure: 2, \r\n                                    prices: {\r\n                                        [useDate] : 0,\r\n                                        [yesterday] : 0,\r\n                                        [dayBefore] : 0\r\n                                    },\r\n                                    firstName: '',\r\n                                    lastName: '',\r\n                                    phoneNumber: '',\r\n                                    address: '',\r\n                                    zipCode: '',\r\n                                    city: '',\r\n                                    state: '',\r\n                                    referredName: '',\r\n                                    favoriteTeam: '',\r\n                                    birthday: '',\r\n                                }).then(res2 => {\r\n                                    auth.createUserWithEmailAndPassword(email, password).catch(function(error) {\r\n                                        // Handle Errors here.\r\n                                        var errorMessage = error.message;\r\n                                        alert(errorMessage)\r\n                                    });\r\n                                })\r\n                            })\r\n                        }\r\n                    })\r\n                })\r\n        }\r\n        else{\r\n            alert('Please fill out both fields.')\r\n            setEmail('')\r\n            setPassword('')\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        let interval = setInterval(() => {\r\n          if (emailField.current) {\r\n            setEmail(emailField.current.value)\r\n            setPassword(passwordField.current.value)\r\n            //do the same for all autofilled fields\r\n            clearInterval(interval)\r\n          }\r\n        }, 100)\r\n    })\r\n\r\n    return(\r\n        <div className=\"signup transition\">\r\n            <hr className='signup-hr' />\r\n            <div className=\"signup-title robo900\">Create a Free Account and <br />Join the Market in Seconds</div>\r\n            <form onSubmit={handleClick}>\r\n                <input onChange={handleEmail} className='signup-input robo200' placeholder='email' type='email' value={email} />\r\n                <input onChange={handlePassword}  className='signup-input robo200' placeholder='password' type='password' value={password} />\r\n                <br />\r\n                <span className='signup-terms robo200'>By creating an account, you agree to SimBull's<a href='/Terms-Of-Use'> Terms</a></span>\r\n                <button type=\"submit\" className='signup-btn robo400'>Go To the Market</button>\r\n            </form> \r\n            <hr className='signup-hr' />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup"]},"metadata":{},"sourceType":"module"}