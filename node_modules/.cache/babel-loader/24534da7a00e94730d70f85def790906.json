{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Dallas\\\\Desktop\\\\simbull-two\\\\src\\\\components\\\\TradeBlock\\\\TBoffers.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './tradeblock.css';\nimport TBofferCard from './TBofferCard';\nimport moment from 'moment';\nimport { db, firebaseAnalytics } from '../../services/firebase';\n\nconst TBoffers = props => {\n  _s();\n\n  const user = props.user;\n  const nba = ['Celtics',, 'Nets', 'Knicks', '76ers', 'Raptors', 'Warriors', 'Clippers', 'Lakers', 'Suns', 'Kings', 'Bulls', 'Cavaliers', 'Pistons', 'Pacers', 'Bucks', 'Hawks', 'Hornets', 'Heat', 'Magic', 'Wizards', 'Nuggets', 'Timberwolves', 'Thunder', 'Blazers', 'Jazz', 'Mavericks', 'Rockets', 'Grizzlies', 'Pelicans', 'Spurs'];\n  const nfl = ['Patriots', 'Bills', 'Dolphins', 'Jets', 'Cowboys', 'Giants', 'Eagles', 'Football', 'Ravens', 'Bengals', 'Browns', 'Steelers', 'Bears', 'Lions', 'Packers', 'Vikings', 'Texans', 'Colts', 'Jaguars', 'Titans', 'Falcons', 'Panthers', 'Saints', 'Bucs', 'Broncos', 'Chiefs', 'Raiders', 'Chargers', 'Cardinals', 'Rams', '49ers', 'Seahawks']; //states\n\n  const [sortType, setSortType] = useState('all');\n  const [bids, setBids] = useState([]);\n  const [asks, setAsks] = useState([]);\n  const [offers, setOffers] = useState([]);\n  const [bidsDay, setBidsDay] = useState(0);\n  const [asksDay, setAsksDay] = useState(0);\n  const [nbaAskD, setNbaAskD] = useState(0);\n  const [nbaAskW, setNbaAskW] = useState(0);\n  const [nbaBidD, setNbaBidD] = useState(0);\n  const [nbaBidW, setNbaBidW] = useState(0);\n  const [nflAskD, setNflAskD] = useState(0);\n  const [nflAskW, setNflAskW] = useState(0);\n  const [nflBidD, setNflBidD] = useState(0);\n  const [nflBidW, setNflBidW] = useState(0); //Functions\n\n  let date = moment().subtract(7, 'd').format('YYYYMMDD');\n  let todate = moment().format('YYYYMMDD');\n\n  const getBids = () => {\n    let bidArr = [];\n    let BD = 0;\n    let nbaBD = 0;\n    let nbaBW = 0;\n    let nflBD = 0;\n    let nflBW = 0;\n    db.collection('Bids').where('date', '>=', date).onSnapshot(querySnap => {\n      querySnap.forEach(doc => {\n        const data = doc.data();\n        bidArr.push(data);\n\n        if (nba.includes(data.bidTeam)) {\n          nbaBW++;\n        } else if (nfl.includes(data.bidTeam)) {\n          nflBW++;\n        }\n\n        if (data.date >= todate) {\n          BD++;\n\n          if (nba.includes(data.bidTeam)) {\n            nbaBD++;\n          } else if (nfl.includes(data.bidTeam)) {\n            nflBD++;\n          }\n        }\n      });\n      setBids(bidArr);\n      setBidsDay(BD);\n      setNbaBidD(nbaBD);\n      setNbaBidW(nbaBW);\n      setNflBidD(nflBD);\n      setNflBidW(nflBW);\n    });\n  };\n\n  const getAsks = () => {\n    let askArr = [];\n    let AD = 0;\n    let nbaAD = 0;\n    let nbaAW = 0;\n    let nflAD = 0;\n    let nflAW = 0;\n    db.collection('Asks').where('date', '>=', date).onSnapshot(querySnap => {\n      querySnap.forEach(doc => {\n        const data = doc.data();\n        askArr.push(data);\n\n        if (nba.includes(data.team)) {\n          nbaAW++;\n        } else if (nfl.includes(data.team)) {\n          nflAW++;\n        }\n\n        if (data.date >= todate) {\n          AD++;\n\n          if (nba.includes(data.team)) {\n            nbaAD++;\n          } else if (nfl.includes(data.team)) {\n            nflAD++;\n          }\n        }\n      });\n      setAsks(askArr);\n      setAsksDay(AD);\n      setNbaAskD(nbaAD);\n      setNbaAskW(nbaAW);\n      setNflAskD(nflAD);\n      setNflAskW(nflAW);\n    });\n  };\n\n  useEffect(() => {\n    getBids();\n    getAsks();\n  }, []);\n\n  const combineOffers = () => {\n    let offersArr = bids.concat(asks);\n    offersArr.sort(function (a, b) {\n      return b.time - a.time;\n    });\n    setOffers(offersArr);\n  };\n\n  useEffect(() => {\n    combineOffers();\n  }, [bids, asks]);\n  useEffect(() => {\n    firebaseAnalytics.logEvent(\"offerFeed_visit\", {\n      user: user && user.email\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"TBoffers\",\n    children: [props.sort && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tb-filter-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: sortType === 'nfl' ? \"tb-filter-div-btn tb-filter-btn-selected\" : \"tb-filter-div-btn\",\n        onClick: () => {\n          setSortType('nfl');\n        },\n        children: \"simNFL only\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: sortType === 'nba' ? \"tb-filter-div-btn tb-filter-btn-selected\" : \"tb-filter-div-btn\",\n        onClick: () => {\n          setSortType('nba');\n        },\n        children: \"simNBA only\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: sortType === 'all' ? \"tb-filter-div-btn-all tb-filter-btn-selected\" : \"tb-filter-div-btn-all\",\n        onClick: () => {\n          setSortType('all');\n        },\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tb-o-div-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tb-t-title\",\n        children: \"Bids\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tb-t-day\",\n        children: \"Today\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tb-t-day\",\n        children: \"7 Days\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"tb-t-hr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"tb-t-hr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tb-t-amt\",\n        children: sortType === 'all' ? bidsDay : sortType === 'nba' ? nflBidD : nbaBidD\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tb-t-amt\",\n        children: sortType === 'all' ? bids.length : sortType === 'nba' ? nbaBidW : nflBidW\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tb-o-div-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tb-t-title\",\n        children: \"Asks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tb-t-day\",\n        children: \"Today\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tb-t-day\",\n        children: \"7 Days\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"tb-t-hr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"tb-t-hr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tb-t-amt\",\n        children: sortType === 'all' ? asksDay : sortType === 'nfl' ? nflAskD : nbaAskD\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tb-t-amt\",\n        children: sortType === 'all' ? asks.length : sortType === 'nfl' ? nflAskW : nbaAskW\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tb-cards\",\n      children: [sortType === 'all' && offers.map(o => {\n        return /*#__PURE__*/_jsxDEV(TBofferCard, {\n          teams: props.teams,\n          o: o\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 28\n        }, this);\n      }), sortType === 'nfl' && offers.map(o => {\n        if (o.bidTeam) {\n          if (nfl.includes(o.bidTeam)) {\n            return /*#__PURE__*/_jsxDEV(TBofferCard, {\n              teams: props.teams,\n              o: o\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 36\n            }, this);\n          }\n        } else {\n          if (nfl.includes(o.team)) {\n            return /*#__PURE__*/_jsxDEV(TBofferCard, {\n              teams: props.teams,\n              o: o\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 36\n            }, this);\n          }\n        }\n      }), sortType === 'nba' && offers.map(o => {\n        if (o.bidTeam) {\n          if (nba.includes(o.bidTeam)) {\n            return /*#__PURE__*/_jsxDEV(TBofferCard, {\n              teams: props.teams,\n              o: o\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 36\n            }, this);\n          }\n        } else {\n          if (nba.includes(o.team)) {\n            return /*#__PURE__*/_jsxDEV(TBofferCard, {\n              teams: props.teams,\n              o: o\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 36\n            }, this);\n          }\n        }\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TBoffers, \"ugCt/7IJpPz2NpVy+vzWKErp7bc=\");\n\n_c = TBoffers;\nexport default TBoffers;\n\nvar _c;\n\n$RefreshReg$(_c, \"TBoffers\");","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/TradeBlock/TBoffers.js"],"names":["React","useState","useEffect","TBofferCard","moment","db","firebaseAnalytics","TBoffers","props","user","nba","nfl","sortType","setSortType","bids","setBids","asks","setAsks","offers","setOffers","bidsDay","setBidsDay","asksDay","setAsksDay","nbaAskD","setNbaAskD","nbaAskW","setNbaAskW","nbaBidD","setNbaBidD","nbaBidW","setNbaBidW","nflAskD","setNflAskD","nflAskW","setNflAskW","nflBidD","setNflBidD","nflBidW","setNflBidW","date","subtract","format","todate","getBids","bidArr","BD","nbaBD","nbaBW","nflBD","nflBW","collection","where","onSnapshot","querySnap","forEach","doc","data","push","includes","bidTeam","getAsks","askArr","AD","nbaAD","nbaAW","nflAD","nflAW","team","combineOffers","offersArr","concat","sort","a","b","time","logEvent","email","length","map","o","teams"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './tradeblock.css'\r\nimport TBofferCard from './TBofferCard'\r\nimport moment from 'moment'\r\nimport {db, firebaseAnalytics} from '../../services/firebase'\r\n\r\nconst TBoffers = (props) => {\r\n    const user = props.user\r\n\r\n    const nba = ['Celtics',, 'Nets', 'Knicks', '76ers', 'Raptors', 'Warriors', 'Clippers', 'Lakers', 'Suns', 'Kings', 'Bulls', 'Cavaliers', 'Pistons', 'Pacers', 'Bucks', 'Hawks', 'Hornets', 'Heat', 'Magic', 'Wizards', 'Nuggets', 'Timberwolves', 'Thunder', 'Blazers', 'Jazz', 'Mavericks', 'Rockets', 'Grizzlies', 'Pelicans', 'Spurs']\r\n    const nfl = ['Patriots', 'Bills', 'Dolphins', 'Jets', 'Cowboys', 'Giants', 'Eagles', 'Football', 'Ravens', 'Bengals', 'Browns', 'Steelers', 'Bears', 'Lions', 'Packers', 'Vikings', 'Texans', 'Colts', 'Jaguars', 'Titans', 'Falcons', 'Panthers', 'Saints', 'Bucs', 'Broncos', 'Chiefs', 'Raiders', 'Chargers', 'Cardinals', 'Rams', '49ers', 'Seahawks']\r\n\r\n    //states\r\n    const [sortType, setSortType] = useState('all')\r\n    const [bids, setBids] = useState([])\r\n    const [asks, setAsks] = useState([])\r\n    const [offers, setOffers] = useState([])\r\n    const [bidsDay, setBidsDay] = useState(0)\r\n    const [asksDay, setAsksDay] = useState(0)\r\n    const [nbaAskD, setNbaAskD] = useState(0)\r\n    const [nbaAskW, setNbaAskW] = useState(0)\r\n    const [nbaBidD, setNbaBidD] = useState(0)\r\n    const [nbaBidW, setNbaBidW] = useState(0)\r\n    const [nflAskD, setNflAskD] = useState(0)\r\n    const [nflAskW, setNflAskW] = useState(0)\r\n    const [nflBidD, setNflBidD] = useState(0)\r\n    const [nflBidW, setNflBidW] = useState(0)\r\n    \r\n\r\n    //Functions\r\n    let date = moment().subtract(7,'d').format('YYYYMMDD')\r\n    let todate = moment().format('YYYYMMDD')\r\n    const getBids = () => {\r\n        let bidArr = []\r\n        let BD = 0\r\n        let nbaBD = 0\r\n        let nbaBW = 0\r\n        let nflBD = 0\r\n        let nflBW = 0\r\n        db.collection('Bids').where('date', '>=', date).onSnapshot(querySnap => {\r\n            querySnap.forEach(doc => {\r\n                const data = doc.data()\r\n                bidArr.push(data)\r\n                if(nba.includes(data.bidTeam)){\r\n                    nbaBW++\r\n                }else if(nfl.includes(data.bidTeam)){\r\n                    nflBW++\r\n                }\r\n                if(data.date >= todate){\r\n                    BD++\r\n                    if(nba.includes(data.bidTeam)){\r\n                        nbaBD++\r\n                    }else if(nfl.includes(data.bidTeam)){\r\n                        nflBD++\r\n                    }\r\n                }\r\n            })\r\n            setBids(bidArr)\r\n            setBidsDay(BD)\r\n            setNbaBidD(nbaBD)\r\n            setNbaBidW(nbaBW)\r\n            setNflBidD(nflBD)\r\n            setNflBidW(nflBW)\r\n        })\r\n    }\r\n    const getAsks = () => { \r\n        let askArr = []\r\n        let AD = 0 \r\n        let nbaAD = 0\r\n        let nbaAW = 0\r\n        let nflAD = 0\r\n        let nflAW = 0\r\n        db.collection('Asks').where('date', '>=', date).onSnapshot(querySnap => {\r\n            querySnap.forEach(doc => {\r\n                const data = doc.data()\r\n                askArr.push(data)\r\n                if(nba.includes(data.team)){\r\n                    nbaAW++\r\n                }else if(nfl.includes(data.team)){\r\n                    nflAW++\r\n                }\r\n                if(data.date >= todate){\r\n                    AD++\r\n                    if(nba.includes(data.team)){\r\n                        nbaAD++\r\n                    }else if(nfl.includes(data.team)){\r\n                        nflAD++\r\n                    }\r\n                }\r\n            })\r\n            setAsks(askArr)\r\n            setAsksDay(AD)\r\n            setNbaAskD(nbaAD)\r\n            setNbaAskW(nbaAW)\r\n            setNflAskD(nflAD)\r\n            setNflAskW(nflAW)\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getBids()\r\n        getAsks()\r\n    }, [])\r\n    const combineOffers = () => {\r\n        let offersArr = bids.concat(asks)\r\n        offersArr.sort(function(a, b) {\r\n            return b.time - a.time;\r\n        });\r\n        setOffers(offersArr)\r\n    }\r\n    useEffect(() => {\r\n        combineOffers()\r\n    }, [bids, asks])\r\n\r\n\r\n    useEffect(()=>{\r\n        firebaseAnalytics.logEvent(\"offerFeed_visit\", {\r\n           user: user && user.email \r\n        })\r\n    },[])\r\n\r\n \r\n    return(\r\n        <div className=\"TBoffers\">\r\n            {props.sort && <div className=\"tb-filter-div\">\r\n                <button className={sortType === 'nfl' ? \"tb-filter-div-btn tb-filter-btn-selected\" : \"tb-filter-div-btn\"} onClick={()=>{setSortType('nfl')}}>simNFL only</button>\r\n                <button className={sortType === 'nba' ? \"tb-filter-div-btn tb-filter-btn-selected\" : \"tb-filter-div-btn\"} onClick={()=>{setSortType('nba')}}>simNBA only</button>\r\n                <button className={sortType === 'all' ? \"tb-filter-div-btn-all tb-filter-btn-selected\" : \"tb-filter-div-btn-all\"} onClick={()=>{setSortType('all')}}>All</button>\r\n            </div>}\r\n            <div className=\"tb-o-div-left\">\r\n                <div className=\"tb-t-title\">Bids</div>\r\n                <div className=\"tb-t-day\">Today</div>\r\n                <div className=\"tb-t-day\">7 Days</div>\r\n                <hr className=\"tb-t-hr\" />\r\n                <hr className=\"tb-t-hr\" />\r\n                <div className=\"tb-t-amt\">{sortType === 'all' ? bidsDay : sortType === 'nba' ? nflBidD : nbaBidD}</div>\r\n                <div className=\"tb-t-amt\">{sortType === 'all' ? bids.length : sortType === 'nba' ? nbaBidW : nflBidW}</div>\r\n            </div>\r\n            <div className=\"tb-o-div-right\">\r\n                <div className=\"tb-t-title\">Asks</div>\r\n                <div className=\"tb-t-day\">Today</div>\r\n                <div className=\"tb-t-day\">7 Days</div>\r\n                <hr className=\"tb-t-hr\" />\r\n                <hr className=\"tb-t-hr\" />\r\n                <div className=\"tb-t-amt\">{sortType === 'all' ? asksDay : sortType === 'nfl' ? nflAskD : nbaAskD}</div>\r\n                <div className=\"tb-t-amt\">{sortType === 'all' ? asks.length : sortType === 'nfl' ? nflAskW : nbaAskW}</div>\r\n            </div>\r\n            <div className='tb-cards'>\r\n                {sortType === 'all' && offers.map(o => {\r\n                    return <TBofferCard teams={props.teams} o={o} />\r\n                })}\r\n                {sortType === 'nfl' && offers.map(o => {\r\n                    if(o.bidTeam){\r\n                        if(nfl.includes(o.bidTeam)){\r\n                            return <TBofferCard teams={props.teams} o={o} />\r\n                        }\r\n                    }else{\r\n                        if(nfl.includes(o.team)){\r\n                            return <TBofferCard teams={props.teams} o={o} />\r\n                        }\r\n                    }\r\n                    \r\n                })}\r\n                {sortType === 'nba' && offers.map(o => {\r\n                     if(o.bidTeam){\r\n                        if(nba.includes(o.bidTeam)){\r\n                            return <TBofferCard teams={props.teams} o={o} />\r\n                        }\r\n                    }else{\r\n                        if(nba.includes(o.team)){\r\n                            return <TBofferCard teams={props.teams} o={o} />\r\n                        }\r\n                    }\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TBoffers"]},"metadata":{},"sourceType":"module"}