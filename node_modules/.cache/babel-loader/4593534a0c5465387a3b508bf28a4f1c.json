{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./Analysis.css';import{db,firebaseAnalytics}from'../../services/firebase';import ReactHtmlParser from'react-html-parser';import Article from'./Article';import{Link}from'react-router-dom';var Analysis=function Analysis(props){//props\nvar user=props.user;//states\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),article=_useState4[0],setArticle=_useState4[1];//Functionality\nvar getContent=function getContent(){var content1=[];db.collection('Analysis').get().then(function(snapshot){snapshot.forEach(function(doc){var data=doc.data();content1.push(data);});content1.sort(function(a,b){return b.date-a.date;});setContent(content1);});};useEffect(function(){getContent();},[]);var getArticle=function getArticle(){db.collection('Analysis').doc('20210127-CardDogs').get().then(function(doc){var data=doc.data();setArticle(data.body);});};useEffect(function(){getArticle();},[]);//Analytics\nuseEffect(function(){firebaseAnalytics.logEvent(\"analysis_visit\",{user:user&&user.email});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Analysis DesktopContainer\",children:[content.length>0&&content.map(function(c){return/*#__PURE__*/_jsxs(\"div\",{className:\"anal-card\",children:[c.url&&/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/content/\".concat(c.url),state:{article:c,user:user}},children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"anal-title blk-txt\",children:c.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"anal-sub blk-txt\",children:[c.type,\" - By: \",c.author,\" - \",\"\".concat(c.date.substring(4,6),\"/\").concat(c.date.substring(6,8),\"/\").concat(c.date.substring(0,4))]})]}),!c.url&&/*#__PURE__*/_jsxs(\"a\",{href:c.link,target:\"_blank\",className:\"blk-text\",children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"anal-title blk-txt\",children:c.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"anal-sub blk-txt\",children:[c.type,\" - By: \",c.author,\" - \",\"\".concat(c.date.substring(4,6),\"/\").concat(c.date.substring(6,8),\"/\").concat(c.date.substring(0,4))]})]})]},c.title);}),/*#__PURE__*/_jsx(\"hr\",{})]});};export default Analysis;","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/Analysis/Analysis.js"],"names":["React","useState","useEffect","db","firebaseAnalytics","ReactHtmlParser","Article","Link","Analysis","props","user","content","setContent","article","setArticle","getContent","content1","collection","get","then","snapshot","forEach","doc","data","push","sort","a","b","date","getArticle","body","logEvent","email","length","map","c","url","pathname","state","title","type","author","substring","link"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './Analysis.css'\r\nimport {db, firebaseAnalytics} from '../../services/firebase'\r\nimport ReactHtmlParser from 'react-html-parser'\r\nimport Article from './Article'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst Analysis = (props) => {\r\n    //props\r\n    const user = props.user\r\n\r\n    //states\r\n    const [content, setContent] = useState([])\r\n    const [article, setArticle] = useState()\r\n\r\n    //Functionality\r\n    const getContent = () => {\r\n        const content1 = []\r\n        db.collection('Analysis').get().then(snapshot => {\r\n            snapshot.forEach(doc => {\r\n                const data = doc.data()\r\n                content1.push(data)\r\n            })\r\n            content1.sort(function(a, b) {\r\n                return b.date - a.date;\r\n            });\r\n            setContent(content1)\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getContent()\r\n    }, [])\r\n    \r\n    const getArticle = () => {\r\n        db.collection('Analysis').doc('20210127-CardDogs').get().then(doc => {\r\n            const data = doc.data()\r\n            setArticle(data.body)\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getArticle()\r\n    }, [])\r\n\r\n\r\n    //Analytics\r\n    useEffect(()=>{\r\n        firebaseAnalytics.logEvent(\"analysis_visit\", {\r\n           user: user && user.email \r\n        })\r\n    },[])\r\n\r\n\r\n    return(\r\n        <div className=\"Analysis DesktopContainer\">\r\n            {content.length > 0 && content.map(c => {\r\n                return(\r\n                    <div key={c.title} className=\"anal-card\">\r\n                        {c.url && <Link to={{\r\n                                    pathname: `/content/${c.url}`,\r\n                                    state: {\r\n                                        article: c,\r\n                                        user: user\r\n                                    }\r\n                                }}>\r\n                                    <hr />\r\n                                    <div className=\"anal-title blk-txt\">{c.title}</div>\r\n                                    <div className=\"anal-sub blk-txt\">{c.type} - By: {c.author} - {`${c.date.substring(4, 6)}/${c.date.substring(6, 8)}/${c.date.substring(0, 4)}`}</div>\r\n                                </Link>\r\n                        }\r\n                        {!c.url && <a href={c.link} target=\"_blank\" className=\"blk-text\">\r\n                                    <hr />\r\n                                    <div className=\"anal-title blk-txt\">{c.title}</div>\r\n                                    <div className=\"anal-sub blk-txt\">{c.type} - By: {c.author} - {`${c.date.substring(4, 6)}/${c.date.substring(6, 8)}/${c.date.substring(0, 4)}`}</div>\r\n                                </a>\r\n                        }\r\n                    </div>\r\n                )\r\n            })}\r\n            <hr />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Analysis"]},"metadata":{},"sourceType":"module"}