{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Dallas/Desktop/simbull-two/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./portfolio.css';import PPayouts from'./PPayouts';var PTotal=function PTotal(props){//get states\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),teams=_useState4[0],setTeams=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],setValue=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),percentReturn=_useState8[0],setPercentReturn=_useState8[1];//Functions\nvar loadUser=function loadUser(){setUser(props.user);};useEffect(function(){loadUser();},[props.user]);var loadTeams=function loadTeams(){setTeams(props.teams);};useEffect(function(){loadTeams();},[props.teams]);var getValue=function getValue(){if(user){var holder=0;user.shares&&user.shares.map(function(s){var team=s.substring(0,s.length-4);teams!==undefined&&teams.map(function(t){if(team===t.team){holder=holder+t.lastSoldPrice;}});});return(holder+user.cash).toFixed(2);}return 0;};var getPercentReturn=function getPercentReturn(){return((getValue()-(user?user.currentMoneyDeposited:0))/(user?user.currentMoneyDeposited:0)*100).toFixed(2);};return/*#__PURE__*/_jsxs(\"div\",{className:\"PTotal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-total-account\",children:\"Account Value\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"p-total-hr\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-total-value\",children:[\"$\",getValue()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-total-cash\",children:[\"Cash: \",/*#__PURE__*/_jsxs(\"span\",{className:\"p-total-cash-amt\",children:[\"$\",user&&user.cash&&user.cash.toFixed(2)]})]}),/*#__PURE__*/_jsx(PPayouts,{user:props.user,teams:props.teams}),/*#__PURE__*/_jsx(\"hr\",{className:\"p-graph-top\"}),/*#__PURE__*/_jsxs(\"div\",{className:getPercentReturn()>=0?\"p-graph-return green\":\"p-graph-return red\",children:[\"$\",(getValue()-(user&&user.currentMoneyDeposited)).toFixed(2),\" [\",getPercentReturn()>=0&&'+',getPercentReturn(),\"%] - All\"]})]});};export default PTotal;","map":{"version":3,"sources":["C:/Users/Dallas/Desktop/simbull-two/src/components/Portfolio/PTotal.js"],"names":["React","useState","useEffect","PPayouts","PTotal","props","user","setUser","teams","setTeams","value","setValue","percentReturn","setPercentReturn","loadUser","loadTeams","getValue","holder","shares","map","s","team","substring","length","undefined","t","lastSoldPrice","cash","toFixed","getPercentReturn","currentMoneyDeposited"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './portfolio.css'\r\nimport PPayouts from './PPayouts'\r\n\r\nconst PTotal = (props) => {\r\n\r\n    //get states\r\n    const [user, setUser] = useState()\r\n    const [teams, setTeams] = useState()\r\n    const [value, setValue] = useState(0)\r\n    const [percentReturn, setPercentReturn] = useState(0)\r\n\r\n    //Functions\r\n    const loadUser = () => {\r\n        setUser(props.user)\r\n    }\r\n    useEffect(() => {\r\n        loadUser()\r\n    }, [props.user])\r\n    const loadTeams = () => {\r\n        setTeams(props.teams)\r\n    }\r\n    useEffect(() => {\r\n        loadTeams()\r\n    }, [props.teams])\r\n\r\n    const getValue = () => {\r\n        if(user){\r\n            let holder = 0\r\n                user.shares && user.shares.map(s => {\r\n                    let team = s.substring(0, s.length - 4)\r\n                    teams !== undefined && teams.map(t => {\r\n                        if(team === t.team){\r\n                            holder = holder + t.lastSoldPrice\r\n                        }\r\n                    })\r\n                })\r\n            return (holder + user.cash).toFixed(2)\r\n        }\r\n        return 0\r\n    }\r\n\r\n    const getPercentReturn = () => {\r\n        return ((((getValue() - (user ? user.currentMoneyDeposited : 0)) / (user ? user.currentMoneyDeposited : 0)) * 100).toFixed(2))\r\n    }\r\n\r\n\r\n    return(\r\n        <div className='PTotal'>\r\n            <div className=\"p-total-account\">Account Value</div>\r\n            <hr className=\"p-total-hr\" />\r\n            <div className=\"p-total-value\">${getValue()}</div>\r\n            <div className=\"p-total-cash\">Cash: <span className=\"p-total-cash-amt\">${user && user.cash && user.cash.toFixed(2)}</span></div>\r\n            <PPayouts user={props.user} teams={props.teams} />\r\n            <hr className=\"p-graph-top\" />\r\n            <div className={getPercentReturn() >=0 ? \"p-graph-return green\" : \"p-graph-return red\" }>${(getValue() - (user && user.currentMoneyDeposited)).toFixed(2)} [{getPercentReturn()>=0 && '+'}{getPercentReturn()}%] - All</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PTotal"]},"metadata":{},"sourceType":"module"}